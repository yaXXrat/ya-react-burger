{"version":3,"sources":["components/burger-ingredient-group/burger-ingredient-group.module.css","components/modal-overlay/modal-overlay.module.css","components/feed-order-details/feed-order-details.module.css","components/feed-order-short/feed-order-short.module.css","services/hooks.ts","components/burger-ingredient/burger-ingredient.tsx","components/burger-ingredient-group/burger-ingredient-group.tsx","components/burger-ingredients/burger-ingredients.tsx","utils/throttle.ts","services/constants/constructor.ts","services/constants/order.ts","components/burger-constructor-item/burger-constructor-item.tsx","components/burger-bun-constructor-item/burger-bun-constructor-item.tsx","services/constants/error.ts","services/config.ts","services/constants/ingredients.ts","services/constants/orders.ts","services/actions/orders.ts","services/constants/websocket.ts","services/actions/websocket.ts","services/constants/auth.ts","services/auth.ts","services/actions/auth.ts","services/constants/server-order.ts","services/api.ts","components/burger-constructor/burger-constructor.tsx","pages/main-page.tsx","pages/login-page.tsx","pages/forgot-password-page.tsx","components/ingredient-details/ingredient-details.tsx","pages/profile-page.tsx","pages/register-page.tsx","pages/reset-password-page.tsx","components/feed-order-short/feed-order-short.tsx","components/feed-list/feed-list.tsx","pages/profile-orders-page.tsx","components/feed-info/feed-info.tsx","pages/feed-page.tsx","components/protected-route.tsx","components/app-header/menu-item.tsx","components/app-header/app-header.tsx","components/display-error/display-error.tsx","images/error.png","components/modal-overlay/modal-overlay.tsx","components/modal/modal.tsx","components/feed-order-details/feed-order-details.tsx","services/actions/server-order.ts","components/order-details/order-details.tsx","images/tick.png","images/waiting.gif","components/display-waiting/display-waiting.tsx","components/app/app.tsx","services/types/orders.ts","services/reducers/order.ts","services/reducers/constructor.ts","services/reducers/error.ts","services/reducers/ingredients.ts","services/constants/ingredient.ts","services/reducers/ingredient.ts","services/reducers/auth.ts","services/reducers/websocket.ts","services/reducers/orders.ts","services/reducers/server-order.ts","services/reducers/index.ts","services/store.ts","services/middleware/websocket.ts","index.tsx","components/feed-info/feed-info.module.css","components/app-header/app-header.module.css","components/burger-ingredient/burger-ingredient.module.css","components/burger-constructor/burger-constructor.module.css","components/ingredient-details/ingredient-details.module.css","components/burger-ingredients/burger-ingredients.module.css","components/feed-list/feed-list.module.css","components/display-error/display-error.module.css","components/order-details/order-details.module.css","components/app/app.module.css","pages/shared.module.css","components/burger-constructor-item/burger-constructor-item.module.css","components/modal/modal.module.css","components/display-waiting/display-waiting.module.css"],"names":["module","exports","useDispatch","dispatchHook","useSelector","selectorHook","BurgerIngredient","ingredient","className","selectedCount","useDrag","type","item","dragRef","location","useLocation","ingredientId","_id","ref","classNames","style","count","size","to","pathname","state","background","link","alt","name","src","image","price","BurgerIngredientGroup","title","ingredients","orderConstructor","constructorIngredients","constructorBun","allIngredients","concat","getSelectedCount","id","currentIngredient","filter","length","map","ingredientGroups","BurgerIngredients","allIngredientsArray","burgerIngredients","useState","currentIngredientsType","setCurrentIngredientsType","tabsRef","useMemo","bun","createRef","sauce","main","groupContainerRef","useRef","updateTab","useCallback","groupContainerTop","current","getBoundingClientRect","top","activeTab","Object","entries","Math","abs","sort","a","b","throttledUpdateTab","fn","wait","isCalled","setTimeout","throttle","group","active","value","onClick","tab","scrollIntoView","behavior","clickTab","onScroll","SET_ORDER_INGREDIENT","REMOVE_ORDER_INGREDIENT","UPDATE_INGREDIENTS_ORDER","ERASE_INGREDIENTS_ORDER","MAKE_ORDER_REQUEST","MAKE_ORDER_SUCCESS","MAKE_ORDER_ERROR","ERASE_ORDER","ItemTypes","BurgerConstructorItem","index","moveCard","dispatch","useDrop","accept","collect","monitor","handlerId","getHandlerId","hover","dragIndex","hoverIndex","hoverBoundingRect","hoverMiddleY","bottom","hoverClientY","getClientOffset","y","drop","isDragging","opacity","drag","draggable","text","thumbnail","image_mobile","handleClose","BurgerBunConstructorItem","suffix","isLocked","SET_ERROR_MESSAGE","RESET_ERROR_MESSAGE","SERVER_API_URL","WS_API_URL","LOAD_INGREDIENTS_REQUEST","LOAD_INGREDIENTS_SUCCESS","LOAD_INGREDIENTS_ERROR","FETCH_ORDERS","CLEAR_ORDERS","NEW_ORDERS_ARRIVE","LOAD_INGREDIENTS","clearOrders","WS_CONNECTION_START","WS_CONNECTION_SUCCESS","WS_CONNECTION_ERROR","WS_CONNECTION_CLOSED","WS_GET_MESSAGE","WS_SEND_MESSAGE","WS_CLOSE","wsConnectionStart","url","wsClose","REGISTER_SUCCESS","LOGIN_SUCCESS","PROFILE_SUCCESS","FORGOT_PASS_SUCCESS","CLEAR_FORGOT_PASS_SUCCESS","RESET_PASS_SUCCESS","CLEAR_RESET_PASS_SUCCESS","LOGOUT_SUCCESS","REFRESH_TOKEN_REQUEST","REFRESH_TOKEN_SUCCESS","UPDATE_PROFILE_SUCCESS","refreshToken","options","method","headers","body","JSON","stringify","token","getRefreshToken","fetch","response","json","result","success","setAccessToken","accessToken","setRefreshToken","console","log","fetchUserInfo","getAccessToken","getUser","ok","status","Error","data","errorMessage","message","fetchUpdateUserInfo","email","password","login","user","logout","then","catch","e","forgot","getCookie","matches","document","cookie","match","RegExp","replace","decodeURIComponent","undefined","setCookie","props","exp","expires","d","Date","setTime","getTime","toUTCString","updatedCookie","encodeURIComponent","propName","propValue","deleteCookie","LOAD_ORDER_FROM_SERVER_SUCCESS","SET_ORDER_LOCAL","fetchOrderInfo","orderID","FETCH_ALL_ORDERS_URL","FETCH_ORDERS_FOR_USER_URL","startFetching","BurgerConstructor","history","useHistory","auth","totalPrice","reduce","acc","makeOrder","ingredientsIDs","res","results","newOrder","number","order","createOrder","push","onDropHandler","dropTarget","i","sum","px40","MainPage","main_blocks","DndProvider","backend","HTML5Backend","LoginPage","userEmail","setUserEmail","userPass","setUserPassword","isLogged","dest","from","useEffect","onSubmitLoginForm","preventDefault","form_block","onSubmit","onChange","target","placeholder","ForgotPassPage","store","forgotSuccess","IngredientDetails","useParams","details","image_large","calories","proteins","fat","carbohydrates","ProfilePage","userPassword","userName","setUserName","userEdited","setUserEdited","block1","stopPropagation","updateUser","block2","icon","RegisterPage","setUserPass","ResetPassPage","userToken","setUserToken","resetSuccess","FeedOrderShort","view","findUrl","find","date","createdAt","nohref","toString","padStart","toLocaleString","slice","fullname","done","cancel","i7","total","FeedList","orders","ProfileOrdersPage","trim","block3","FeedInfo","flexgroup","flexdivs","container","minimumFractionDigits","todayTotal","FeedPage","ProtectedRoute","children","path","loggedIn","MenuItem","itemDest","Icon","itemText","splitLocation","split","splitDestination","isActive","classes","menu_item","AppHeader","topdiv","BurgerIcon","ListIcon","ProfileIcon","DisplayError","error","errorInfo","ModalOverlay","onClose","open","currentTarget","onModalClose","Modal","code","window","addEventListener","removeEventListener","ReactDOM","createPortal","modal","getElementById","FeedOrderDetails","orderId","serverOrder","currentOrder","inOrder","payload","getOrderInfo","ingredientsMap","Map","set","get","over","i1","middle","iprice","OrderDetails","ready","waitingIcon","App","STATUS","orderCreated","isWaitingIngredients","isLoading","isWaitingOrder","isWaiting","ModalSwitch","handleModalClose","goBack","initialState","lastIndex","SET_CURRENT_INGREDIENT","RESET_CURRENT_INGREDIENT","selectedIngredient","updatePasswordSuccess","isTokenRefreshed","wsConnected","messages","ingredientPrices","PENDING","isLoaded","rootReducer","combineReducers","action","burgerIngredient","newState","tmpIndex","newIngredient","newIngredients","idx","indexOf","splice","temp","ws","forEach","newOrders","ingredientsIds","ingredientPrice","totalToday","ingredientIds","webSocketMiddleware","wsActions","socket","next","onInit","onOpen","onMessage","onError","onClosed","onSend","WebSocket","onopen","onerror","event","onmessage","parsedData","parse","onclose","send","close","socketMiddleware","enhancer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","applyMiddleware","thunk","createStore","render","StrictMode","basename"],"mappings":"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","file":"static/js/main.fb93cd0b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"burger-ingredient-parent-group\":\"burger-ingredient-group_burger-ingredient-parent-group__1u10p\",\"burger-ingredients-group\":\"burger-ingredient-group_burger-ingredients-group__1v3K3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"open\":\"modal-overlay_open__yMJy1\",\"close\":\"modal-overlay_close__1nwDO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"details\":\"feed-order-details_details__Z5KgJ\",\"feed-order-block\":\"feed-order-details_feed-order-block__synQM\",\"feed-order-short\":\"feed-order-details_feed-order-short__1kOZF\",\"ingredients\":\"feed-order-details_ingredients__2hdwC\",\"over\":\"feed-order-details_over__1LbCv\",\"middle\":\"feed-order-details_middle__650Q8\",\"iprice\":\"feed-order-details_iprice__33-Me\",\"date\":\"feed-order-details_date__2t3cs\",\"ingredient\":\"feed-order-details_ingredient__3LvTf\",\"i1\":\"feed-order-details_i1__3h4So\",\"sum\":\"feed-order-details_sum__1tpqs\",\"fullname\":\"feed-order-details_fullname__-IrGO\",\"status\":\"feed-order-details_status__1X28e\",\"nohref\":\"feed-order-details_nohref__1z2RK\",\"cancel\":\"feed-order-details_cancel__51D3u\",\"done\":\"feed-order-details_done__1F861\",\"ingredientsr\":\"feed-order-details_ingredientsr__Hypm8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"feed-order-short\":\"feed-order-short_feed-order-short__39tae\",\"ingredients\":\"feed-order-short_ingredients__1XZ0c\",\"ingredient\":\"feed-order-short_ingredient__2oEdj\",\"i1\":\"feed-order-short_i1__1uA79\",\"i2\":\"feed-order-short_i2__cccIj\",\"i3\":\"feed-order-short_i3__1RV7i\",\"i4\":\"feed-order-short_i4__om8rz\",\"i5\":\"feed-order-short_i5__2I5et\",\"i6\":\"feed-order-short_i6__1aEvE\",\"i7\":\"feed-order-short_i7__3BEaV\",\"sum\":\"feed-order-short_sum__1U1BB\",\"fullname\":\"feed-order-short_fullname__3wFcS\",\"status\":\"feed-order-short_status__2Ez__\",\"nohref\":\"feed-order-short_nohref__6_Qj_\",\"cancel\":\"feed-order-short_cancel__3Am2f\",\"done\":\"feed-order-short_done__3Ol31\"};","import {\n    TypedUseSelectorHook,\n    useDispatch as dispatchHook,\n    useSelector as selectorHook\n} from 'react-redux';\nimport {AppDispatch, AppThunk, RootState} from './types';\n\nexport const useDispatch = () => dispatchHook<AppDispatch | AppThunk>();\nexport const useSelector: TypedUseSelectorHook<RootState> = selectorHook;\n","import React, { FC } from 'react';\nimport { useDrag } from 'react-dnd';\nimport {\n    Counter,\n    CurrencyIcon,\n} from '@ya.praktikum/react-developer-burger-ui-components';\nimport classNames from 'classnames';\nimport style from './burger-ingredient.module.css';\n\nimport { Link, useLocation } from \"react-router-dom\";\nimport {TBurgerIngredient} from \"../../services/types/types\";\n\n\nconst BurgerIngredient : FC<TBurgerIngredient> = ( { ingredient, className, selectedCount }) => {\n    const [, dragRef] = useDrag({\n        type: \"ingredient\",\n        item: ingredient\n    });\n    const location = useLocation();\n\n    const ingredientId = ingredient._id;\n  \n    return (\n        <div ref={dragRef} className={classNames(style[className], style['draggable'])}>\n            { (selectedCount !== 0) && <Counter count={selectedCount} size=\"default\" />}\n            <Link\n                key={ingredientId}\n                to={{\n                    pathname: `/ingredients/${ingredientId}`,\n                    state: { background: location },\n                }}\n                className={style.link}\n                >\n                <img\n                    alt={ingredient.name}\n                    className={classNames(style['burger-ingredient-image'] )}\n                    src={ingredient.image}\n                />\n            </Link>\n            <div className={style.price}>\n                <span className={classNames(style['burger-ingredient-price'], \"text text_type_digits-default\")}>{ingredient.price}&nbsp;\n                <CurrencyIcon type={'primary'} />\n            </span></div>\n            <div className={classNames(style['burger-ingredient-title'], \"text text_type_main-small\")}>{ingredient.name}</div>\n        </div>\n\n    );\n  };\n  export default BurgerIngredient;\n","\nimport React, { FC } from 'react'\nimport {useSelector} from \"../../services/hooks\";\nimport style from './burger-ingredient-group.module.css';\nimport BurgerIngredient from '../burger-ingredient/burger-ingredient';\nimport {TBurgerIngredientGroup, TIngredient} from \"../../services/types/types\";\n\nconst BurgerIngredientGroup : FC<TBurgerIngredientGroup> = ( {title, ingredients } ) => {\n\n    const { constructorIngredients, constructorBun } = useSelector(state => state.orderConstructor);\n    const allIngredients = constructorBun ? constructorIngredients.concat(constructorBun) : constructorIngredients;\n\n    const getSelectedCount = (id: string) => {\n        let currentIngredient = allIngredients.filter(item => item.ingredient._id === id);\n        return currentIngredient ? currentIngredient.length : 0;\n    }\n\n    return (\n        <>\n            <h3 className='pt-10 mb-6 text text_type_main-medium'>{title}</h3>\n            <div className={style['burger-ingredients-group']}>\n                {ingredients.map((ingredient: TIngredient) => (\n                <BurgerIngredient\n                    key={ingredient._id}\n                    ingredient={ingredient}\n                    className='burger-ingredient'\n                    selectedCount={getSelectedCount(ingredient._id)}\n                />\n            ))}\n            </div>\n        </>\n    );\n};\n\nexport default BurgerIngredientGroup;\n","import React, { useCallback, useRef, useState, useMemo, createRef} from 'react'\nimport { Tab } from '@ya.praktikum/react-developer-burger-ui-components';\n\nimport classNames from 'classnames';\nimport style from './burger-ingredients.module.css';\n\nimport BurgerIngredientGroup from '../burger-ingredient-group/burger-ingredient-group';\n\nimport {useSelector} from \"../../services/hooks\";\n\nimport { throttle } from '../../utils/throttle';\nimport {TGroup, TIngredient} from \"../../services/types/types\";\n\nconst ingredientGroups: TGroup[]  = [\n    {type: 'bun', title: 'Булки'},\n    {type: 'sauce', title: 'Соусы'},\n    {type: 'main', title: 'Начинки'},\n];\n\nconst BurgerIngredients = () => {\n\n    const { allIngredients } = useSelector(state => state.burgerIngredients);\n    const allIngredientsArray = allIngredients as TIngredient[];\n    const [currentIngredientsType, setCurrentIngredientsType] = useState<string>('bun');\n    const filteredIngredientsData = (type: string) => {\n        return allIngredientsArray.filter((item: TIngredient) => item.type === type);\n    }\n\n    const tabsRef: Record<string, React.MutableRefObject<HTMLDivElement | null>> = useMemo( () => (\n        {\n        bun: createRef(),\n        sauce: createRef(),\n        main: createRef()\n        }\n    ), []);\n\n    const clickTab = (tab: string) => {\n        setCurrentIngredientsType(tab);\n        tabsRef[tab].current?.scrollIntoView({ behavior: \"smooth\" });\n      };\n\n    function getRefTop(ref: React.MutableRefObject<HTMLDivElement | null>) {\n        return (ref.current) ? ref.current.getBoundingClientRect().top : 0;\n    }\n    const groupContainerRef = useRef<null | HTMLDivElement>(null);\n//    const groupContainerTop: number = getRefTop(groupContainerRef);\n\n    const updateTab = useCallback( () => {\n        const groupContainerTop = getRefTop(groupContainerRef);\n        const activeTab = Object.entries(tabsRef)\n          .map(([name, ref]): [string, number] => [\n            name,\n            Math.abs(groupContainerTop - (ref.current ? ref.current.getBoundingClientRect().top : 0)),\n          ])\n          .sort((a, b) => a[1] - b[1])[0][0];\n\n        setCurrentIngredientsType(activeTab);\n    },[tabsRef]);\n\n    const throttledUpdateTab = useMemo(() => throttle(updateTab, 250), [updateTab])\n\n    return (\n        <div className={style['burger-ingredients']}>\n            <div className={classNames(style['burger-ingredients-title'],'mt-10 mb-5 text text_type_main-large ')}>\n                Соберите бургер\n            </div>\n            <div className={style['burger-ingredients-selector']}>\n                {ingredientGroups.map((group: TGroup) => (\n                <Tab\n                    key={group.title}\n                    active={group.type === currentIngredientsType }\n                    value={group.type}\n                    onClick={() => clickTab(group.type)}\n                >\n                    {group.title}\n                </Tab>\n            ))}\n            </div>\n            <div onScroll={throttledUpdateTab} className={style['burger-ingredients-group-container']}>\n                {ingredientGroups.map((group: TGroup) => (\n                <div\n                    ref={tabsRef[group.type]}\n                    key={group.type}\n                >\n                    <BurgerIngredientGroup\n                        title={group.title}\n                        ingredients={filteredIngredientsData(group.type)}\n                    />\n                </div>\n            ))}\n            </div>\n        </div>\n    )\n}\n\nexport default BurgerIngredients;\n","export function throttle(fn:Function, wait:number){\n    let isCalled = false;\n\n    return function(...args: any){\n        if (!isCalled){\n            fn(...args);\n            isCalled = true;\n            setTimeout(function(){\n                isCalled = false;\n            }, wait)\n        }\n    };\n}\n","export const SET_ORDER_INGREDIENT: 'SET_ORDER_INGREDIENT'  = 'SET_ORDER_INGREDIENT';\nexport const REMOVE_ORDER_INGREDIENT: 'REMOVE_ORDER_INGREDIENT'  = 'REMOVE_ORDER_INGREDIENT';\nexport const UPDATE_INGREDIENTS_ORDER: 'UPDATE_INGREDIENTS_ORDER' = 'UPDATE_INGREDIENTS_ORDER';\nexport const ERASE_INGREDIENTS_ORDER: 'ERASE_INGREDIENTS_ORDER' = 'ERASE_INGREDIENTS_ORDER';\n","export const MAKE_ORDER_REQUEST: 'MAKE_ORDER_REQUEST' = 'MAKE_ORDER_REQUEST';\nexport const MAKE_ORDER_SUCCESS: 'MAKE_ORDER_SUCCESS' = 'MAKE_ORDER_SUCCESS';\nexport const MAKE_ORDER_ERROR: 'MAKE_ORDER_ERROR'  = 'MAKE_ORDER_ERROR';\nexport const ERASE_ORDER: 'ERASE_ORDER' = 'ERASE_ORDER';\nexport const REMOVE_ORDER_INGREDIENT: 'REMOVE_ORDER_INGREDIENT' = 'REMOVE_ORDER_INGREDIENT';\n","import React, {FC} from 'react'\nimport {useDispatch} from \"../../services/hooks\";\nimport {ConstructorElement, DragIcon} from '@ya.praktikum/react-developer-burger-ui-components';\n\nimport {REMOVE_ORDER_INGREDIENT} from '../../services/constants/order';\n\nimport style from './burger-constructor-item.module.css';\n\nimport {useDrag, useDrop} from 'react-dnd';\nimport {useRef} from 'react';\n\nimport {TBurgerConstructorItem, TBurgerConstructorItemProps} from \"../../services/types/types\";\n\nconst ItemTypes = {\n    CARD: 'card',\n}\n\nconst BurgerConstructorItem: FC<TBurgerConstructorItemProps> = ({ingredient, id, index, moveCard}) => {\n\n    const dispatch = useDispatch();\n    const removeConstructorItem = () => {\n        dispatch({type: REMOVE_ORDER_INGREDIENT, ingredient: ingredient})\n    }\n\n    const ref = useRef<HTMLInputElement>(null);\n    const [{handlerId}, drop] = useDrop({\n        accept: ItemTypes.CARD,\n        collect(monitor) {\n            return {\n                handlerId: monitor.getHandlerId(),\n            };\n        },\n        hover(item: TBurgerConstructorItem, monitor) {\n\n            if (!ref.current) {\n                return;\n            }\n            const dragIndex = item.index;\n            const hoverIndex = index;\n            if (dragIndex === hoverIndex) {\n                return;\n            }\n            const hoverBoundingRect = ref.current?.getBoundingClientRect();\n            const hoverMiddleY = (hoverBoundingRect.bottom - hoverBoundingRect.top) / 2;\n            const clientOffset = monitor.getClientOffset();\n            const hoverClientY = clientOffset!!.y - hoverBoundingRect.top;\n            if (dragIndex < hoverIndex && hoverClientY < hoverMiddleY) {\n                return;\n            }\n            if (dragIndex > hoverIndex && hoverClientY > hoverMiddleY) {\n                return;\n            }\n            moveCard(dragIndex, hoverIndex);\n            item.index = hoverIndex;\n\n        },\n    });\n    const [{isDragging}, drag] = useDrag({\n        type: ItemTypes.CARD,\n        item: () => {\n            return {id, index};\n        },\n        collect: (monitor) => ({\n            isDragging: monitor.isDragging(),\n        }),\n    });\n    const opacity = isDragging ? 0 : 1;\n    drag(drop(ref));\n\n\n    return (<div ref={ref} style={{...style, opacity}} data-handler-id={handlerId} className={style.draggable}>\n            <DragIcon type=\"primary\"/>\n            <ConstructorElement\n                text={ingredient.name}\n                price={ingredient.price}\n                thumbnail={ingredient.image_mobile}\n                handleClose={removeConstructorItem}\n            />\n        </div>\n    );\n};\n\nexport default BurgerConstructorItem;\n","import React, { FC } from 'react'\nimport { ConstructorElement } from '@ya.praktikum/react-developer-burger-ui-components';\nimport { TBurgerBun } from '../../services/types/types'\n\nconst BurgerBunConstructorItem: FC<TBurgerBun> = ( { type, ingredient }) => {\n    const suffix = (type===\"top\" ? ' (верх)' : ' (низ)');\n    return (<>\n            <ConstructorElement\n                type={type}\n                isLocked={true}\n                text={ingredient.name + suffix}\n                price={ingredient.price}\n                thumbnail={ingredient.image_mobile}\n            />\n            </>\n        );\n  };\n\n  export default BurgerBunConstructorItem;\n","export const SET_ERROR_MESSAGE: 'SET_ERROR_MESSAGE' = 'SET_ERROR_MESSAGE';\nexport const RESET_ERROR_MESSAGE: 'RESET_ERROR_MESSAGE' = 'RESET_ERROR_MESSAGE';","export const SERVER_API_URL = 'https://norma.nomoreparties.space/api/';\nexport const WS_API_URL = 'wss://norma.nomoreparties.space';\n","export const LOAD_INGREDIENTS_REQUEST: 'LOAD_INGREDIENTS_REQUEST' = 'LOAD_INGREDIENTS_REQUEST';\nexport const LOAD_INGREDIENTS_SUCCESS: 'LOAD_INGREDIENTS_SUCCESS' = 'LOAD_INGREDIENTS_SUCCESS';\nexport const LOAD_INGREDIENTS_ERROR: 'LOAD_INGREDIENTS_ERROR' = 'LOAD_INGREDIENTS_ERROR';\n","export const FETCH_ORDERS: 'FETCH_ORDERS' = 'FETCH_ORDERS';\nexport const CLEAR_ORDERS: 'CLEAR_ORDERS' = 'CLEAR_ORDERS';\nexport const NEW_ORDERS_ARRIVE: 'NEW_ORDERS_ARRIVE' = 'NEW_ORDERS_ARRIVE';\nexport const LOAD_INGREDIENTS: 'LOAD_INGREDIENTS' = 'LOAD_INGREDIENTS';\n","import { FETCH_ORDERS, CLEAR_ORDERS, NEW_ORDERS_ARRIVE, LOAD_INGREDIENTS } from '../constants/orders';\nimport { IServerOrderReply } from '../types/orders';\nimport { TIngredient } from \"../types/types\";\n\nexport interface ILoadIngredientsAction {\n    readonly type: typeof LOAD_INGREDIENTS;\n    ingredients: ReadonlyArray<TIngredient>\n}\nexport interface IFetchOrdersAction {\n    readonly type: typeof FETCH_ORDERS;\n}\nexport interface IClearOrdersAction {\n    readonly type: typeof CLEAR_ORDERS;\n}\nexport interface INewOrderArriveAction {\n    readonly type: typeof NEW_ORDERS_ARRIVE;\n    payload: IServerOrderReply;\n}\n\nexport type TOrdersActions = \n    | IFetchOrdersAction\n    | ILoadIngredientsAction\n    | IClearOrdersAction\n    | INewOrderArriveAction;\n\nexport const fetchOrders = (): TOrdersActions => ({\n        type: FETCH_ORDERS\n});    \nexport const loadIngredients = (ingredients: Array<TIngredient>): ILoadIngredientsAction => ({\n    type: LOAD_INGREDIENTS,\n    ingredients\n});    \nexport const newOrdersArrive = (payload: IServerOrderReply): TOrdersActions => ({\n        type: NEW_ORDERS_ARRIVE,\n        payload\n});    \nexport const clearOrders = (): TOrdersActions => ({\n    type: CLEAR_ORDERS\n});    \n","export const WS_CONNECTION_START: 'WS_CONNECTION_START' = 'WS_CONNECTION_START';\nexport const WS_CONNECTION_SUCCESS: 'WS_CONNECTION_SUCCESS'  = 'WS_CONNECTION_SUCCESS';\nexport const WS_CONNECTION_ERROR: 'WS_CONNECTION_ERROR' = 'WS_CONNECTION_ERROR';\nexport const WS_CONNECTION_CLOSED: 'WS_CONNECTION_CLOSED' = 'WS_CONNECTION_CLOSED';\nexport const WS_GET_MESSAGE: 'WS_GET_MESSAGE' = 'WS_GET_MESSAGE';\nexport const WS_SEND_MESSAGE: 'WS_SEND_MESSAGE' = 'WS_SEND_MESSAGE';\nexport const WS_CLOSE: 'WS_CLOSE' = 'WS_CLOSE';","import {\n    WS_CONNECTION_START,\n    WS_CONNECTION_SUCCESS,\n    WS_CONNECTION_ERROR,\n    WS_CONNECTION_CLOSED,\n    WS_GET_MESSAGE,\n    WS_SEND_MESSAGE,\n    WS_CLOSE\n} from '../constants/websocket';\n\nexport type TWsConnectionStartAction = {\n    readonly type: typeof WS_CONNECTION_START,\n    url: string\n}\n\nexport const wsConnectionStart = (url: string): TWsConnectionStartAction => {\n    return {\n        type: WS_CONNECTION_START,\n        url\n    };\n};\n\n\nexport type TWsConnectionSuccessAction = {\n    readonly type: typeof WS_CONNECTION_SUCCESS\n}\n\nexport const wsConnectionSuccess = (): TWsConnectionSuccessAction => {\n    return {\n        type: WS_CONNECTION_SUCCESS\n    };\n};\n\nexport type TWsConnectionErrorAction = {\n    readonly type: typeof WS_CONNECTION_ERROR\n    payload: Event\n}\n\nexport const wsConnectionError = (event: Event): TWsConnectionErrorAction => {\n    return {\n        type: WS_CONNECTION_ERROR,\n        payload: event\n    };\n};\n\nexport type TWsConnectionClosedAction = {\n    readonly type: typeof WS_CONNECTION_CLOSED\n}\n\nexport const wsConnectionClosed = (): TWsConnectionClosedAction => {\n    return {\n        type: WS_CONNECTION_CLOSED,\n    };\n};\n\nexport type TWsGetMessageAction = {\n    readonly type: typeof WS_GET_MESSAGE,\n    payload: string\n}\n\nexport const wsGetMessage = (message: string): TWsGetMessageAction => {\n    return {\n        type: WS_GET_MESSAGE,\n        payload: message\n    };\n};\n\nexport type TWsSendMessageAction = {\n    readonly type: typeof WS_SEND_MESSAGE,\n    payload: string\n}\n\nexport const wsSendMessage = (message: string) => {\n    return {\n        type: WS_SEND_MESSAGE,\n        payload: message\n    };\n};\n\nexport type TWsCloseAction = {\n    readonly type: typeof WS_CLOSE\n}\n\nexport const wsClose = () => {\n    return {\n        type: WS_CLOSE\n    };\n};\nexport type TWebsocketActions = \n    TWsConnectionStartAction\n    | TWsConnectionSuccessAction\n    | TWsConnectionErrorAction\n    | TWsConnectionClosedAction\n    | TWsGetMessageAction\n    | TWsSendMessageAction\n    | TWsCloseAction;","export const REGISTER_REQUEST: 'REGISTER_REQUEST' = 'REGISTER_REQUEST';\nexport const REGISTER_SUCCESS: 'REGISTER_SUCCESS' = 'REGISTER_SUCCESS';\nexport const REGISTER_ERROR: 'REGISTER_ERROR' = 'REGISTER_ERROR';\n\nexport const LOGIN_REQUEST: 'LOGIN_REQUEST' = 'LOGIN_REQUEST';\nexport const LOGIN_SUCCESS: 'LOGIN_SUCCESS' = 'LOGIN_SUCCESS';\nexport const LOGIN_ERROR: 'LOGIN_ERROR' = 'LOGIN_ERROR';\n\nexport const PROFILE_REQUEST: 'PROFILE_REQUEST' = 'PROFILE_REQUEST';\nexport const PROFILE_SUCCESS: 'PROFILE_SUCCESS' = 'PROFILE_SUCCESS';\nexport const PROFILE_ERROR: 'PROFILE_ERROR' = 'PROFILE_ERROR';\n\nexport const FORGOT_PASS_REQUEST: 'FORGOT_PASS_REQUEST' = 'FORGOT_PASS_REQUEST';\nexport const FORGOT_PASS_ERROR: 'FORGOT_PASS_ERROR' = 'FORGOT_PASS_ERROR';\nexport const FORGOT_PASS_SUCCESS: 'FORGOT_PASS_SUCCESS' = 'FORGOT_PASS_SUCCESS';\n\nexport const CLEAR_FORGOT_PASS_SUCCESS: 'RESET_FORGOT_PASS_SUCCESS' = 'RESET_FORGOT_PASS_SUCCESS';\n\nexport const RESET_PASS_REQUEST: 'RESET_PASS_REQUEST' = 'RESET_PASS_REQUEST';\nexport const RESET_PASS_SUCCESS: 'RESET_PASS_SUCCESS' = 'RESET_PASS_SUCCESS';\nexport const RESET_PASS_ERROR: 'RESET_PASS_ERROR' = 'RESET_PASS_ERROR';\n\nexport const CLEAR_RESET_PASS_SUCCESS: 'RESET_FORGOT_PASS_SUCCESS' = 'RESET_FORGOT_PASS_SUCCESS';\n\nexport const LOGOUT_REQUEST: 'LOGOUT_REQUEST' = 'LOGOUT_REQUEST';\nexport const LOGOUT_SUCCESS: 'LOGOUT_SUCCESS' = 'LOGOUT_SUCCESS';\nexport const LOGOUT_ERROR: 'LOGOUT_ERROR' = 'LOGOUT_ERROR';\n\nexport const REFRESH_TOKEN_REQUEST: 'REFRESH_TOKEN_REQUEST' = 'REFRESH_TOKEN_REQUEST';\nexport const REFRESH_TOKEN_SUCCESS: 'REFRESH_TOKEN_SUCCESS' = 'REFRESH_TOKEN_SUCCESS';\nexport const REFRESH_TOKEN_ERROR: 'REFRESH_TOKEN_ERROR' = 'REFRESH_TOKEN_ERROR';\n\nexport const UPDATE_PROFILE_REQUEST: 'UPDATE_PROFILE_REQUEST' = 'UPDATE_PROFILE_REQUEST';\nexport const UPDATE_PROFILE_SUCCESS: 'UPDATE_PROFILE_SUCCESS' = 'UPDATE_PROFILE_SUCCESS';\nexport const UPDATE_PROFILE_ERROR: 'UPDATE_PROFILE_ERROR' = 'UPDATE_PROFILE_ERROR';","import { SERVER_API_URL } from './config';\nimport {\n    REGISTER_REQUEST,\n    REGISTER_SUCCESS,\n    REGISTER_ERROR,\n    LOGIN_REQUEST,\n    LOGIN_SUCCESS,\n    LOGIN_ERROR,\n    FORGOT_PASS_REQUEST,\n    FORGOT_PASS_SUCCESS,\n    FORGOT_PASS_ERROR,\n    RESET_PASS_REQUEST,\n    RESET_PASS_SUCCESS,\n    RESET_PASS_ERROR,\n    REFRESH_TOKEN_REQUEST,\n    UPDATE_PROFILE_SUCCESS,\n    LOGOUT_REQUEST,\n    LOGOUT_SUCCESS,\n    LOGOUT_ERROR\n} from './constants/auth';\nimport {SET_ERROR_MESSAGE} from './constants/error'\n\nimport { profileSuccess } from './actions/auth'\n\nimport { TResult, TOptions } from './types/types'\nimport { Dispatch } from 'redux';\nimport {AppDispatch, AppThunk} from \"./types\";\n\nconst refreshToken = async ( ) => {\n    try{\n        const options: TOptions = {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({token: getRefreshToken()})\n        };\n        const response = await fetch(SERVER_API_URL+'auth/token',options);\n        const result = await response.json();\n        if(result.success){\n            setAccessToken(result.accessToken)\n            setRefreshToken(result.refreshToken)\n        }else{\n            setAccessToken(\"\")\n            setRefreshToken(\"\")\n        }\n    } catch(err){\n        console.log(err);\n    }\n}\nasync function fetchUserInfo() {\n    const options: TOptions = {\n        method: 'GET',\n        headers: {\n            'Content-Type': 'application/json',\n            'Authorization': getAccessToken()\n        }\n    };\n    let response = await fetch(SERVER_API_URL+'auth/user', options);\n\n    return response;\n}\n\nexport const getUser: AppThunk = () => {\n    return async function(dispatch: AppDispatch) {\n        try{ \n            let response = await fetchUserInfo();\n            if(!response.ok){\n                if(response.status === 403 || response.status === 401){\n                    dispatch({type:REFRESH_TOKEN_REQUEST});\n                    await refreshToken();\n                    response = await fetchUserInfo();\n                }else{\n                    throw new Error(\"Error happened during data fetching while getting user data! \" + response.status);\n                }\n            }\n            const result: TResult = await response.json();\n            \n            if(result.success){\n                dispatch(profileSuccess(result));\n            } else {\n                throw new Error(\"Error happened during profile update!\");\n            }\n        }\n        catch(err) {\n            if (err instanceof Error) {\n                    dispatch({type: SET_ERROR_MESSAGE, errorMessage: err.name+ ' ' + err.message});\n            }else{\n                console.log('err ',err)\n            }\n        }\n    };\n\n}\nasync function fetchUpdateUserInfo(name: string, email: string, password: string) {\n    const options: TOptions = {\n        method: 'PATCH',\n        headers: {\n            'Content-Type': 'application/json',\n            'Authorization': getAccessToken()\n        },\n        body: JSON.stringify({email, name, password})\n    };\n    let response = await fetch(SERVER_API_URL+'auth/user',options);\n\n    return response;\n}\n\nexport const updateUser: AppThunk = (name: string, email: string, password: string) => {\n    return async function(dispatch: AppDispatch) {\n        try {\n            let response = await fetchUpdateUserInfo(name, email, password);\n            if(!response.ok){\n                if(response.status === 403 || response.status === 401){\n                    dispatch({type:REFRESH_TOKEN_REQUEST});\n                    await refreshToken();\n                    response = await fetchUpdateUserInfo(name, email, password);\n                }else{\n                    throw new Error(\"Error happened during data fetching while user data update! \" + response.status);\n                }\n            }\n            const result = await response.json();\n            if(result.success){\n                dispatch({type:UPDATE_PROFILE_SUCCESS, data: {name: name, email: email} });\n            } else {\n                throw new Error(\"Error happened during profile update!\");\n            }\n        }\n        catch(err) {\n            if (err instanceof Error) {\n                dispatch({type: SET_ERROR_MESSAGE, errorMessage: err.name+ ' ' + err.message});\n            }else{\n                console.log('err ',err)\n            }\n        }\n    };\n}\n\n\nexport const registerUser: AppThunk = (name: string, email: string, password: string) => {\n    return function(dispatch: Dispatch) {\n        dispatch({type:REGISTER_REQUEST});\n        fetch(\n            SERVER_API_URL+'auth/register',\n            {\n                method: 'POST',\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({name, email, password})\n            }\n        )\n        .then((response) => {\n            if (response.ok) {\n                return response.json();\n            } else {\n                throw new Error(\"Error happened during data fetching while registration! \" + response.status);\n            }\n        })\n        .then((result) => {\n            if(result.success){\n                setAccessToken(result.accessToken)\n                setRefreshToken(result.refreshToken)\n                dispatch({type:REGISTER_SUCCESS, data: result});\n            } else {\n                throw new Error(\"Error happened during registration!\");\n            }\n        })\n        .catch((e) => {\n            setAccessToken('')\n            setRefreshToken('')\n            dispatch({type: REGISTER_ERROR});\n            dispatch({type: SET_ERROR_MESSAGE, errorMessage: e.name+ ' ' + e.message});\n        })\n    };\n}\n\nexport const login: AppThunk = (email: string, password: string) => {\n    return async function(dispatch: Dispatch) {\n        try {\n            dispatch({type:LOGIN_REQUEST});\n            const options: TOptions = {\n                method: 'POST',\n                headers: {\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({email, password})\n            };\n            const response = await fetch(SERVER_API_URL+'auth/login',options);\n            if(!response.ok){\n                throw new Error(\"Error happened during data fetching while login! \" + response.status);\n            }\n            const result = await response.json();\n            if(result.success){\n                setAccessToken(result.accessToken)\n                setRefreshToken(result.refreshToken)\n                result.user.password = password;\n                dispatch({type:LOGIN_SUCCESS, data: result});\n            } else {\n                throw new Error(\"Error happened during login!\");\n            }\n        }\n        catch(err) {\n            if (err instanceof Error) {\n                setAccessToken('')\n                setRefreshToken('')\n                dispatch({type: LOGIN_ERROR});\n                dispatch({type: SET_ERROR_MESSAGE, errorMessage: err.name+ ' ' + err.message});\n            }else{\n                console.log('err ',err)\n            }\n        }\n    };\n}\n\nexport const logout: AppThunk = () => {\n    return function(dispatch: Dispatch) {\n        dispatch({type:LOGOUT_REQUEST});\n        fetch(\n            SERVER_API_URL+'auth/logout',\n            {\n                method: 'POST',\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({token: getRefreshToken()})\n            }\n        )\n            .then((response) => {\n                if (response.ok) {\n                    return response.json();\n                } else {\n                    throw new Error(\"Error happened during data fetching while logout! \" + response.status);\n                }\n            })\n            .then((result) => {\n                if(result.success){\n                    setAccessToken('');\n                    setRefreshToken('');\n                    dispatch({type:LOGOUT_SUCCESS});\n                } else {\n                    throw new Error(\"Error happened during logout!\");\n                }\n            })\n            .catch((e) => {\n                dispatch({type: LOGOUT_ERROR});\n                dispatch({type: SET_ERROR_MESSAGE, errorMessage: e.name+ ' ' + e.message});\n            })\n    };\n}\n\nexport const forgot: AppThunk = (email: string) => {\n    return function(dispatch: Dispatch) {\n        dispatch({type:FORGOT_PASS_REQUEST});\n        fetch(\n            SERVER_API_URL+'password-reset',\n            {\n                method: 'POST',\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({email})\n            }\n        )\n            .then((response) => {\n                if (response.ok) {\n                    return response.json();\n                } else {\n                    throw new Error(\"Error happened during data fetching while reset! \" + response.status);\n                }\n            })\n            .then((result) => {\n                if(result.success){\n                    dispatch({type:FORGOT_PASS_SUCCESS, data: result});\n                } else {\n                    throw new Error(\"Error happened during reset!\");\n                }\n            })\n            .catch((e) => {\n                dispatch({type: FORGOT_PASS_ERROR});\n                dispatch({type: SET_ERROR_MESSAGE, errorMessage: e.name+ ' ' + e.message});\n\n            })\n    };\n}\n\nexport const reset: AppThunk = ( password: string, token: string ) => {\n    return function(dispatch: Dispatch) {\n        dispatch({type:RESET_PASS_REQUEST});\n        fetch(\n            SERVER_API_URL+'password-reset/reset',\n            {\n                method: 'POST',\n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({password, token})\n            }\n        )\n            .then((response) => {\n                if (response.ok) {\n                    return response.json();\n                } else {\n                    throw new Error(\"Error happened during data fetching while reset! \" + response.status);\n                }\n            })\n            .then((result) => {\n                if(result.success){\n                    dispatch({type:RESET_PASS_SUCCESS, data: result});\n                } else {\n                    throw new Error(\"Error happened during reset!\");\n                }\n            })\n            .catch((e) => {\n                dispatch({type: RESET_PASS_ERROR});\n                dispatch({type: SET_ERROR_MESSAGE, errorMessage: e.name+ ' ' + e.message});\n            })\n    };\n}\n\nexport function getCookie(name: string) {\n    let matches = document.cookie.match(\n        // eslint-disable-next-line\n        new RegExp(\"(?:^|; )\" + name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + \"=([^;]*)\")\n    );\n    return matches ? decodeURIComponent(matches[1]) : undefined;\n}\n\nexport function setCookie(name: string, value: string, props?: any) {\n    props = props || {};\n    let exp = props.expires;\n    if (typeof exp == 'number' && exp) {\n      const d = new Date();\n      d.setTime(d.getTime() + exp * 1000);\n      exp = props.expires = d;\n    }\n    if (exp && exp.toUTCString) {\n      props.expires = exp.toUTCString();\n    }\n    value = encodeURIComponent(value);\n    let updatedCookie = name + '=' + value;\n    for (const propName in props) {\n      updatedCookie += '; ' + propName;\n      const propValue = props[propName];\n      if (propValue !== true) {\n        updatedCookie += '=' + propValue;\n      }\n    }\n    document.cookie = updatedCookie;\n}\n  \nexport function deleteCookie(name: string) {\n    setCookie(name, \"\", {\n      'max-age': -1\n    })\n}\n\nexport const getAccessToken = () => { return getCookie('accessToken') }\n\n\nexport const setAccessToken = (accessToken: string | undefined) => {\n  if (accessToken) {\n    setCookie('accessToken', accessToken)\n  } else {\n    deleteCookie('accessToken')\n  }\n}\n\nexport const getRefreshToken = () => { return getCookie('refreshToken') }\n\nexport const setRefreshToken = (refreshToken: string | undefined) => {\n    if (refreshToken) {\n        setCookie('refreshToken', refreshToken)\n    }\n    else {\n        deleteCookie('refreshToken')\n    }\n}\n","import {TUser, TAuthUserData, TResult} from '../types/types';\nimport {\n    LOGIN_SUCCESS,\n    LOGOUT_SUCCESS,\n    RESET_PASS_SUCCESS,\n    REGISTER_SUCCESS,\n    FORGOT_PASS_SUCCESS,\n    CLEAR_FORGOT_PASS_SUCCESS,\n    CLEAR_RESET_PASS_SUCCESS,\n    REFRESH_TOKEN_REQUEST,\n    REFRESH_TOKEN_SUCCESS,\n    UPDATE_PROFILE_SUCCESS,\n    PROFILE_SUCCESS\n} from '../constants/auth';\n\nexport interface ILoginSuccessAction {\n    readonly type: typeof LOGIN_SUCCESS;\n    readonly data: TAuthUserData\n}\nexport interface ILogoutSuccessAction {\n    readonly type: typeof LOGOUT_SUCCESS;\n}\nexport interface IResetPassSuccessAction {\n    readonly type: typeof RESET_PASS_SUCCESS;\n}\nexport interface IRegisterSuccessAction {\n    readonly type: typeof REGISTER_SUCCESS;\n    readonly data: TAuthUserData;\n}\nexport interface IForgotPassSuccessAction {\n    readonly type: typeof FORGOT_PASS_SUCCESS;\n}\nexport interface IClearForgotPassSuccessAction {\n    readonly type: typeof CLEAR_FORGOT_PASS_SUCCESS;\n}\nexport interface IClearResetPassSuccessAction {\n    readonly type: typeof CLEAR_RESET_PASS_SUCCESS;\n}\nexport interface IRefreshTokenRequestAction {\n    readonly type: typeof REFRESH_TOKEN_REQUEST;\n}\nexport interface IRefreshTokenSuccessAction {\n    readonly type: typeof REFRESH_TOKEN_SUCCESS;\n}\nexport interface IUpdateProfileSuccessAction {\n    readonly type: typeof UPDATE_PROFILE_SUCCESS;\n    readonly data: TUser;\n}\nexport interface IProfileSuccessAction {\n    readonly type: typeof PROFILE_SUCCESS;\n    readonly data: TResult;\n}\n\nexport type TAuthActions = \n        | ILoginSuccessAction\n        | ILogoutSuccessAction\n        | IResetPassSuccessAction\n        | IRegisterSuccessAction\n        | IForgotPassSuccessAction\n        | IClearForgotPassSuccessAction\n        | IClearResetPassSuccessAction\n        | IRefreshTokenRequestAction\n        | IRefreshTokenSuccessAction\n        | IUpdateProfileSuccessAction\n        | IProfileSuccessAction;\n\nexport const loginSuccess = (data: TAuthUserData): TAuthActions => ({\n    type: LOGIN_SUCCESS,\n    data\n});    \nexport const logoutSuccess = (): TAuthActions => ({\n    type: LOGOUT_SUCCESS\n});    \nexport const resetPassSuccess = (): TAuthActions => ({\n    type: RESET_PASS_SUCCESS\n});    \nexport const registerSuccess = (data: TAuthUserData): TAuthActions => ({\n    type: REGISTER_SUCCESS,\n    data\n});    \nexport const forgotPassSuccess = (): TAuthActions => ({\n    type: FORGOT_PASS_SUCCESS\n});    \nexport const clearForgotPassSuccess = (): TAuthActions => ({\n    type: CLEAR_FORGOT_PASS_SUCCESS\n});    \nexport const clearResetPassSuccess = (): TAuthActions => ({\n    type: CLEAR_RESET_PASS_SUCCESS\n});    \nexport const refreshTokenRequest = (): TAuthActions => ({\n    type: REFRESH_TOKEN_REQUEST\n});    \nexport const refreshTokenSuccess = (): TAuthActions => ({\n    type: REFRESH_TOKEN_SUCCESS\n});    \nexport const updateProfileSuccess = (data: TUser): TAuthActions => ({\n    type: UPDATE_PROFILE_SUCCESS,\n    data\n});    \nexport const profileSuccess = (data: TResult): TAuthActions => ({\n    type: PROFILE_SUCCESS,\n    data\n});\n\n\n","export const LOAD_ORDER_FROM_SERVER : 'LOAD_ORDER_FROM_SERVER' = 'LOAD_ORDER_FROM_SERVER';\nexport const LOAD_ORDER_FROM_SERVER_SUCCESS : 'LOAD_ORDER_FROM_SERVER_SUCCESS' = 'LOAD_ORDER_FROM_SERVER_SUCCESS';\nexport const SET_ORDER_LOCAL: 'SET_ORDER_LOCAL' = 'SET_ORDER_LOCAL';\n","import { SET_ERROR_MESSAGE } from './constants/error';\nimport { SERVER_API_URL, WS_API_URL } from './config';\nimport { Dispatch } from 'redux';\nimport { LOAD_INGREDIENTS_REQUEST, LOAD_INGREDIENTS_SUCCESS, LOAD_INGREDIENTS_ERROR } from './constants/ingredients'\nimport { LOAD_INGREDIENTS } from './constants/orders';\nimport { MAKE_ORDER_REQUEST, MAKE_ORDER_SUCCESS, MAKE_ORDER_ERROR, ERASE_ORDER } from './constants/order'\nimport {TIngredientsIds, TOptions} from \"./types/types\";\nimport {TFeedOrder,IServerOrder} from \"./types/orders\";\n\nimport { clearOrders } from './actions/orders';\nimport { wsConnectionStart } from './actions/websocket';\nimport {AppDispatch, AppThunk} from './types';\nimport { getAccessToken } from './auth';\n\nimport { loadOrderFromServer, setOrderLocal } from './actions/server-order';\n\nexport const getIngredients: AppThunk = () => {\n    return function(dispatch: Dispatch) {\n        dispatch({type: LOAD_INGREDIENTS_REQUEST});\n            fetch(SERVER_API_URL+'ingredients')\n            .then((res) => {\n                if (res.ok) {\n                    return res.json();\n                } else {\n                    throw new Error(\"Error happened during fetching! \" + res.status);\n                }\n            })\n            .then((results) => {\n                dispatch({type: LOAD_INGREDIENTS_SUCCESS, ingredients: results.data});\n                dispatch({type: LOAD_INGREDIENTS, ingredients: results.data});\n            })\n            .catch((e) => {\n                dispatch({type: SET_ERROR_MESSAGE, errorMessage: e.name + ': ' + e.message});\n                dispatch({type: LOAD_INGREDIENTS_ERROR});\n            })\n    };\n}\n\nexport const createOrder: AppThunk = (ingredientsIDs: TIngredientsIds, totalPrice: number) => {\n    return function(dispatch: Dispatch) {\n        dispatch({type:MAKE_ORDER_REQUEST});\n        const options: TOptions = {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': getAccessToken()\n            },\n            body: JSON.stringify(ingredientsIDs)\n        };\n            fetch(\n            SERVER_API_URL+'orders',options\n        )\n        .then((res) => {\n            if (res.ok) {\n                return res.json();\n            } else {\n                throw new Error(\"Error happened during data fetching while order creation! \" + res.status);\n            }\n        })\n        .then((results) => {\n            let newOrder = {\n                number: 0,\n                success: true,\n                name: \"\",\n                ingredients: [ingredientsIDs],\n                price: totalPrice\n            }\n            newOrder.number = results.order.number\n            newOrder.name = results.name\n            newOrder.success = results.success\n            if(results.success){\n                dispatch({type:MAKE_ORDER_SUCCESS, order: newOrder});\n            } else {\n                throw new Error(\"Error happened during order creation!\");\n            }\n        })\n        .catch((e) => {\n            dispatch({type: ERASE_ORDER});\n            dispatch({type: MAKE_ORDER_ERROR});\n            dispatch({type: SET_ERROR_MESSAGE, errorMessage: e.name + ': ' + e.message});\n\n        })\n    };\n}\n\nasync function fetchOrderInfo(orderID: string) {\n    const options: TOptions = {\n        method: 'GET',\n        headers: {\n            'Content-Type': 'application/json'\n        }\n    };\n    let response = await fetch(SERVER_API_URL+'orders/'+orderID,options);\n\n    return response;\n}\nexport const getOrderInfo: AppThunk = (orderId: string | undefined) => {\n    return async function(dispatch: AppDispatch) {\n        dispatch(loadOrderFromServer());\n        try{\n            if(typeof orderId == 'undefined') {\n                throw new Error(\"Error: no orderId!\");\n            }\n            let response = await fetchOrderInfo(orderId);\n            const result: any = await response.json();\n            \n            if(result.success){\n                let inOrder: IServerOrder = result.orders[0];\n                let newOrder: TFeedOrder = {\n                    id: inOrder.number,\n                    _id: inOrder._id,\n                    createdAt: inOrder.createdAt,\n                    fullname: inOrder.name,\n                    ingredients: inOrder.ingredients,\n                    status: inOrder.status,\n                    total: 0\n                }\n    \n                dispatch(setOrderLocal(newOrder));\n            } else {\n                console.log(result)\n                throw new Error(\"Error happened during order info fetch!\");\n            }\n        }\n        catch(err) {\n            if (err instanceof Error) {\n                    dispatch({type: SET_ERROR_MESSAGE, errorMessage: err.name+ ' ' + err.message});\n            }else{\n                console.log('err ',err)\n            }\n        }\n    };\n\n}\n\nconst FETCH_ALL_ORDERS_URL = `${WS_API_URL}/orders/all`;\nconst FETCH_ORDERS_FOR_USER_URL = `${WS_API_URL}/orders`;\n\nconst startFetching = async (dispatch: AppDispatch, url: string) => {\n    dispatch(wsConnectionStart(url));\n}\n\nexport const fetchAllOrders: AppThunk = () => async (dispatch: AppDispatch)  => {\n    try {\n        dispatch(clearOrders());\n        await startFetching(dispatch, FETCH_ALL_ORDERS_URL);\n    } catch(ex){\n    }\n}\n\nexport const fetchOrdersByUser: AppThunk = () => async (dispatch: AppDispatch)  => {\n    try {\n        dispatch(clearOrders());\n        let token = getAccessToken();\n        if (token){\n            token = token.replace('Bearer', '');\n            token = token.trim();\n        }\n        const url = `${FETCH_ORDERS_FOR_USER_URL}?token=${token}`;\n        await startFetching(dispatch, url);\n    } catch(ex){\n    }\n}\n","import React,{ useCallback } from 'react';\nimport style from './burger-constructor.module.css';\nimport { Button, CurrencyIcon} from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { useDrop } from 'react-dnd';\n\nimport { UPDATE_INGREDIENTS_ORDER, SET_ORDER_INGREDIENT } from '../../services/constants/constructor';\nimport BurgerConstructorItem from '../burger-constructor-item/burger-constructor-item';\nimport BurgerBunConstructorItem from '../burger-bun-constructor-item/burger-bun-constructor-item';\n\nimport { createOrder } from '../../services/api';\nimport { useHistory } from \"react-router-dom\";\nimport {TBurgerConstructorItem, TIngredient} from \"../../services/types/types\";\nimport {useDispatch, useSelector} from \"../../services/hooks\";\nimport {TConstructorState} from \"../../services/reducers/constructor\";\nconst BurgerConstructor = () => {\n\n\n    const dispatch = useDispatch();\n    const history = useHistory();\n    const  { user } = useSelector(state => state.auth);\n    const { constructorIngredients, constructorBun } = useSelector<TConstructorState>(state => state.orderConstructor);\n    const allIngredients = constructorBun ? constructorIngredients.concat(constructorBun) : constructorIngredients;\n    const calcTotalPrice = (ingredients: TBurgerConstructorItem[]) => ingredients.reduce((acc, current) => acc + current.ingredient.price, 0);\n    const totalPrice = calcTotalPrice(allIngredients);\n\n    function makeOrder() {\n        if(user.name!==\"\"){\n            const ingredientsIDs = {\"ingredients\": constructorIngredients.map(item => item.ingredient._id).concat(constructorBun ? constructorBun.ingredient._id : '')};\n            dispatch(createOrder(ingredientsIDs, totalPrice));\n        }else{\n            history.push(\"/login\");\n        }\n    }\n\n    const moveCard = useCallback((dragIndex, hoverIndex) => {\n        dispatch({type: UPDATE_INGREDIENTS_ORDER, dragIndex: dragIndex, hoverIndex: hoverIndex});\n    }, [dispatch]);\n\n    const onDropHandler = (ingredient: TIngredient) => {\n        dispatch({type: SET_ORDER_INGREDIENT, ingredient: ingredient})\n    }\n\n    const [, dropTarget] = useDrop({\n        accept: \"ingredient\",\n        drop(ingredient) {\n            onDropHandler(ingredient as TIngredient);\n        }\n    });\n\n    return (\n        <div ref={dropTarget} className={style['burger-constructor']}>\n            <div className={style['main-block']}>\n                { constructorBun && <div className={style.bun}><BurgerBunConstructorItem\n                    type=\"top\"\n                    ingredient={constructorBun.ingredient}\n                /></div>}\n\n        <div className={style.group}>\n            {\n                constructorIngredients.map((item: TBurgerConstructorItem, i: number) => (\n                    <BurgerConstructorItem ingredient={item.ingredient}\n                    moveCard={moveCard} index={i} id={item.id} key={item.index}/>\n            ))}\n        </div>\n\n        { constructorBun && <div className={style.bun}><BurgerBunConstructorItem\n            type=\"bottom\"\n            ingredient={constructorBun.ingredient}\n        /></div>}\n         </div>\n\n            {totalPrice > 0 && <div className={style.sum}>\n                <span className=\"text text_type_digits-medium\">{totalPrice}&nbsp;</span>\n                <span className=\"svg_large\"><CurrencyIcon type=\"primary\" /></span>\n                <div className={style.px40}>&nbsp;</div>\n                {constructorBun && <Button\n                    type=\"primary\"\n                    size=\"medium\"\n                    onClick={() => makeOrder()}\n                >\n                    Оформить заказ\n                </Button>}\n            </div>}\n            {!constructorBun && totalPrice > 0 && <div className=\"text text_type_main-default text_color_inactive empty_constructor\">Пожалуйста, для оформления заказа выберите булку</div>}\n            {totalPrice === 0 && <div className=\"text text_type_main-default text_color_inactive empty_constructor\">\n                Пожалуйста, для начала конструирования бургера выберите и&nbsp;перетащите булку сюда:\n                </div>\n            }\n            </div>\n\n    )    \n}\n\nexport default BurgerConstructor;\n","import React from 'react';\nimport style from './shared.module.css'\n\nimport BurgerIngredients from '../components/burger-ingredients/burger-ingredients';\nimport BurgerConstructor from '../components/burger-constructor/burger-constructor';\n\nimport { DndProvider } from 'react-dnd'\nimport { HTML5Backend } from 'react-dnd-html5-backend'\n\nfunction MainPage() {\n    return (\n    <div>\n      <div className={style.main_blocks}>\n        <DndProvider backend={HTML5Backend}>\n            <BurgerIngredients />\n            <BurgerConstructor />\n        </DndProvider>\n      </div>\n    </div>\n    )\n}\n\nexport default MainPage;\n","import React, { useState, useEffect, FC, FormEvent } from 'react'\nimport { login } from '../services/auth';\nimport {useDispatch, useSelector} from \"../services/hooks\";\nimport { Input, Button, PasswordInput } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport {\n    Link, useHistory\n} from \"react-router-dom\";\nimport style from \"./shared.module.css\";\n\nconst LoginPage: FC = () => {\n    const history = useHistory();\n    const [userEmail, setUserEmail] = useState<string>('');\n    const [userPass, setUserPassword] = useState<string>('');\n\n    const { isLogged } = useSelector(state => state.auth);\n    const dest = history?.location?.state?.from || \"/\";\n\n    useEffect(() => {\n         if(isLogged) {\n             history.push(dest);\n         }\n    }, [isLogged, history, dest]);\n\n    const dispatch = useDispatch();\n    const onSubmitLoginForm = async (e: FormEvent) => {\n        e.preventDefault();\n        dispatch(login(userEmail, userPass));\n    }\n\n    return (\n        <form \n            className={style.form_block}\n            onSubmit={onSubmitLoginForm}>\n        <h2 className='mt-30 text text_type_main-medium'>Вход</h2>\n        <div className='mt-6'>\n            <Input\n                onChange={(e) => setUserEmail(e.target.value)} \n                name={'email'}\n                type={'email'}\n                placeholder={'Email'}\n                value={userEmail} \n                />\n        </div>\n        <div className='mt-6 mb-6'>\n            <PasswordInput \n                onChange={(e) => setUserPassword(e.target.value)} \n                name='password' \n                value={userPass} \n            />\n        </div>\n        <Button>Войти</Button>\n        <div className='mt-25 text text_type_main-small text_color_inactive'>Вы — новый пользователь?<Link className={`${style.link} pl-2`} to=\"/register\">Зарегистрироваться</Link></div>\n        <div className='mt-4 text text_type_main-small text_color_inactive'>Забыли пароль? <Link className={`${style.link} pl-2`} to=\"/forgot-password\">Восстановить пароль</Link></div>\n    </form>\n    )\n}\n\nexport default LoginPage\n","import React, { useState, useEffect, FormEvent } from 'react'\nimport { forgot } from '../services/auth';\nimport {useDispatch, useSelector} from \"../services/hooks\";\nimport { Input, Button}  from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport {\n    Link, useHistory\n} from \"react-router-dom\";\nimport style from \"./shared.module.css\";\n\nfunction ForgotPassPage() {\n    const history = useHistory();\n\n    const [userEmail, setUserEmail] = useState<string>('')\n\n    const { isLogged, user, forgotSuccess } = useSelector(store => store.auth);\n\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        if(isLogged) {\n            history.push(\"/\")\n        }\n        if(forgotSuccess){\n            history.push(\"/reset-password\")\n        }\n    }, [isLogged, history, user, forgotSuccess, dispatch]);\n\n    const onSubmitLoginForm = async (e: FormEvent) => {\n        e.preventDefault();\n        dispatch(forgot(userEmail));\n    }\n\n    return (\n            <form\n                className={style.form_block}\n                onSubmit={onSubmitLoginForm}>\n                <h2 className='mt-30 text text_type_main-medium'>Восстановление пароля</h2>\n\n                <div className='mt-6 mb-6'>\n                    <Input\n                        onChange={(e) => setUserEmail(e.target.value)}\n                        name='email'\n                        value={userEmail}\n                        type='email'\n                        placeholder='Email'\n                    />\n                </div>\n                <Button>Восстановить</Button>\n\n                <div className='mt-25 text text_type_main-small text_color_inactive'>Вспомнили пароль?<Link className={`${style.link} pl-2`} to=\"/login\">Войти</Link></div>\n            </form>\n    )\n}\n\nexport default ForgotPassPage;\n","import style from \"./ingredient-details.module.css\"\nimport classNames from 'classnames';\nimport {useSelector} from \"../../services/hooks\";\nimport { useParams } from \"react-router-dom\";\nimport {TIngredient} from \"../../services/types/types\";\n\nconst IngredientDetails = () => {\n\n  const { ingredientId } = useParams<{ ingredientId?: string }>();\n\n  const { allIngredients } = useSelector(state => state.burgerIngredients);\n  const allIngredientsArray = allIngredients as TIngredient[];\n\n  let ingredient: TIngredient = allIngredientsArray.filter(ingredient => ingredient._id === ingredientId)[0];\n  if (!ingredient) {\n    return <></>\n  }\n\n  return (\n      <div className={classNames(style['ingredient-block'])} >\n        <div\n          className={classNames('text', 'text_type_main-large', style.details)}\n        >\n          Детали ингредиента\n        </div>\n        <div>\n          <img\n            src={ingredient.image_large}\n            alt={ingredient.name}\n            className={style['ingredient-image']}\n          />\n          <h3 className={classNames(style['ingredient-details-image'], 'text', 'text_type_main-medium', 'pb-8')}>{ingredient.name}</h3>\n          <ul className={classNames('text_color_inactive', 'text', 'text_type_main-default', 'mb-5', style['ingredient-details'])}>\n            <li>\n              <h3 className={classNames('text', 'text_type_main-default')}>Калории, ккал</h3>\n              <span className=\"text text_type_digits-default\">\n                {ingredient.calories}\n              </span>\n            </li>\n            <li>\n              <h3 className={classNames('text', 'text_type_main-default')}>Белки, г</h3>\n              <span className=\"text text_type_digits-default\">\n                {ingredient.proteins}\n              </span>\n            </li>\n            <li>\n              <h3 className={classNames('text', 'text_type_main-default')}>Жиры, г</h3>\n              <span className=\"text text_type_digits-default\">\n                {ingredient.fat}\n              </span>\n            </li>\n            <li>\n              <h3 className={classNames('text', 'text_type_main-default')}>Углеводы, г</h3>\n              <span className=\"text text_type_digits-default\">\n                {ingredient.carbohydrates}\n              </span>\n            </li>\n          </ul>\n        </div>\n      </div>\n  );\n};\n\nexport default IngredientDetails;\n","import React, { useState, useEffect, FormEvent } from 'react'\nimport {useDispatch, useSelector} from \"../services/hooks\";\nimport {Input, Button, PasswordInput} from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport style from \"./shared.module.css\";\nimport {updateUser, logout, getUser} from \"../services/auth\";\n\nfunction ProfilePage() {\n    const history = useHistory();\n    const { name, email} = useSelector(store => store.auth.user);\n    const [userPassword, setUserPassword] = useState<string>('');\n    const [userEmail, setUserEmail] = useState<string>(email);\n    const [userName, setUserName] = useState<string>(name);\n    const [userEdited, setUserEdited] = useState<boolean>(false);\n\n    useEffect(() => {\n        if(name === userName && userPassword === '' && email === userEmail)\n            setUserEdited(false);\n        else\n            setUserEdited(true);\n    }, [userName, userPassword, userEmail, email, name]);\n\n\n    const resetUser = () => {\n        setUserEmail(email);\n        setUserName(name);\n        setUserPassword('');\n    }\n\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        dispatch(getUser());\n    }, [dispatch]);\n\n    const logoutUser = () => {\n        dispatch(logout());\n        history.push('/');\n    }\n\n    const onSubmitUpdateForm = (e: FormEvent) => {\n        e.preventDefault();\n        e.stopPropagation();\n        dispatch(updateUser(userName, userEmail, userPassword));\n    }\n    return (\n        <div className={style.main_blocks}>\n            <div className={style.block1}>\n                <div className={'mb-6 text text_type_main-default'}>\n                    <span>Профиль</span>\n                </div>\n                <div className={'mb-6 text text_type_main-default'}><Link to='/profile/orders' className={`${style[\"menu-link\"]}`}>\n                    История заказов\n                    </Link>\n                </div>\n                <div className={'mb-6 text text_type_main-default'}><span className={`${style[\"menu-link\"]}`} onClick={() => logoutUser()}>\n                    Выход\n                </span></div>\n                <div className={'mt-10 text text_type_main-small text_color_inactive'} >В этом разделе вы можете <br/>изменить свои персональные данные</div>\n            </div>\n            <form\n                onSubmit={onSubmitUpdateForm}>\n            <div className={style.block2}>\n                <div>\n                    <Input\n                        onChange={(e) =>  setUserName(e.target.value)}\n                        name={'name'}\n                        value={userName}\n                        placeholder={'Имя'}\n                        icon={'EditIcon'}\n                    />\n                </div>\n                <div className='mt-6'>\n                    <Input\n                        onChange={(e) => setUserEmail(e.target.value)}\n                        name={'email'}\n                        value={userEmail}\n                        placeholder={'Логин'}\n                        icon={'EditIcon'}\n                        type={'email'}\n                    />\n                </div>\n                <div className='mt-6 mb-6'>\n                    <PasswordInput\n                        onChange={(e) => setUserPassword(e.target.value)}\n                        name={'password'}\n                        value={userPassword}\n                    />\n                </div>\n                { userEdited && <div className='text text_type_main-small text_color_inactive'><span className={`${style.link} pl-2`} onClick={() => resetUser()}>Отмена</span> <Button>Сохранить</Button></div>}\n            </div>\n            </form>\n        </div>\n    )\n}\n\nexport default ProfilePage;\n","import React, { useEffect, useState, FC, FormEvent } from 'react'\nimport {useDispatch, useSelector} from \"../services/hooks\";\n\nimport { Input, Button, PasswordInput } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport style from './shared.module.css'\n\nimport { registerUser } from '../services/auth';\n\nconst RegisterPage: FC = () => {\n    const history = useHistory()\n    const [userName, setUserName] = useState<string>('')\n    const [userEmail, setUserEmail] = useState<string>('')\n    const [userPass, setUserPass] = useState<string>('')\n\n    const { isLogged } = useSelector(store => store.auth);\n\n    useEffect(() => {\n        if(isLogged) {\n            history.push(\"/\")\n        }\n    }, [isLogged, history]);\n  \n    const dispatch = useDispatch();\n\n    const onSubmitRegistrationForm = (e: FormEvent) => {\n        e.preventDefault()\n        dispatch(registerUser(userName, userEmail, userPass))\n    }\n\n\n    return (\n        <form\n            className={style.form_block}\n            onSubmit={onSubmitRegistrationForm}>\n\n            <h2 className=\"mt-30 text text_type_main-medium\" >Регистрация</h2>\n            <div className='mt-6'>\n                <Input\n                    placeholder=\"Имя\"\n                    type=\"text\"\n                    onChange={(e) => setUserName(e.target.value)}\n                    value={userName}\n                />\n            </div>\n            <div className='mt-6'>\n                <Input\n                    onChange={(e) => setUserEmail(e.target.value)}\n                    value={userEmail}\n                    name={userEmail}\n                    type={'email'}\n                    placeholder={'Email'}\n                />\n            </div>\n            <div className='mt-6 mb-6'>\n                <PasswordInput\n                    onChange={(e) => setUserPass(e.target.value)}\n                    value={userPass}\n                    name={userPass}\n                />\n            </div>\n\n            <Button >Зарегистрироваться</Button>\n            <div className='mt-15 text_color_inactive text text_type_main-small'>Вы зарегистрированы? <Link className={`${style.link} pl-2`} to=\"/login\">Войти</Link></div>\n\n        </form>\n    )\n}\n\nexport default RegisterPage\n","import React, { useState, useEffect, FormEvent } from 'react'\nimport { reset } from '../services/auth';\nimport {useDispatch, useSelector} from \"../services/hooks\";\nimport {Input, Button, PasswordInput} from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport {\n    Link, useHistory\n} from \"react-router-dom\";\nimport style from \"./shared.module.css\";\nimport {CLEAR_FORGOT_PASS_SUCCESS, CLEAR_RESET_PASS_SUCCESS} from \"../services/constants/auth\";\n\nfunction ResetPassPage() {\n    const history = useHistory();\n\n    const [userPassword, setUserPassword] = useState<string>('');\n    const [userToken, setUserToken] = useState<string>('');\n\n    const { isLogged, user, resetSuccess, forgotSuccess } = useSelector(store => store.auth);\n\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        if(isLogged) {\n            history.push(\"/\");\n        }\n\n        if(!forgotSuccess){\n            history.push(\"/forgot-password\");\n        }\n\n        if(resetSuccess){\n            dispatch({type: CLEAR_FORGOT_PASS_SUCCESS});\n            dispatch({type: CLEAR_RESET_PASS_SUCCESS});\n            history.push(\"/login\");\n        }\n    }, [isLogged, history, user, dispatch, resetSuccess, forgotSuccess]);\n\n\n    const onSubmitLoginForm = (e: FormEvent) => {\n        e.preventDefault();\n        dispatch(reset(userPassword, userToken));\n    }\n\n    return (\n            <form\n                className={style.form_block}\n                onSubmit={onSubmitLoginForm}>\n                <h2 className='mt-30 text text_type_main-medium'>Восстановление пароля</h2>\n\n                <div className='mt-6'>\n                    <PasswordInput\n                        onChange={(e) => setUserPassword(e.target.value)}\n                        name={'email'}\n                        value={userPassword}\n                    />\n                </div>\n                <div className='mt-6 mb-6'>\n                    <Input\n                        onChange={(e) => setUserToken(e.target.value)}\n                        name={'Token'}\n                        value={userToken}\n                        placeholder={'Введите код из письма'}\n                    />\n                </div>\n                <Button>Сохранить</Button>\n\n                <div className='mt-25 text text_type_main-small text_color_inactive'>Вспомнили пароль?<Link className={`${style.link} pl-2`} to=\"/login\">Войти</Link></div>\n            </form>\n    )\n}\n\nexport default ResetPassPage;\n","import React from 'react';\nimport style from './feed-order-short.module.css';\nimport {TFeedOrder} from \"../../services/types/orders\";\nimport {Link, useLocation} from \"react-router-dom\";\nimport {CurrencyIcon} from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport {useSelector} from \"../../services/hooks\";\nimport {TIngredient} from \"../../services/types/types\";\n\nconst FeedOrderShort = ({data, view}: { data: TFeedOrder, view: string }) => {\n    const location = useLocation();\n\n    const {allIngredients} = useSelector(state => state.burgerIngredients);\n    const allIngredientsArray = allIngredients as TIngredient[];\n\n    const findUrl = (id: string) => {\n        const i = allIngredientsArray.find(ingredient => ingredient._id === id);\n        if (i) return i.image_mobile; else return '';\n    }\n\n    const date: Date = new Date(data.createdAt);\n\n    return (\n        <div className={style.nohref}><Link\n            to={{\n                pathname: view ? `/profile/orders/${data.id}` : `/feed/${data.id}`,\n                state: {background: location},\n            }}\n        >\n            <div className={style['feed-order-short'] + ' text_type_main-medium'}>\n                <div className={'text text_type_digits-default'}>#{data.id.toString().padStart(5, '0')}</div>\n                <div\n                    className={'text text_type_main-small text_color_inactive'}>{date.toLocaleString().slice(0, 17)}</div>\n                <div className={style.fullname}>{data.fullname}</div>\n                {view && data.status === 'done' &&\n                <div className={style.status + ' text_type_main-default ' + style.done}>Выполнен</div>}\n                {view && data.status === 'created' &&\n                <div className={style.status + ' text_type_main-default'}>Создан</div>}\n                {view && data.status === 'pending' &&\n                <div className={style.status + ' text_type_main-default'}>Готовится</div>}\n                {view && data.status === 'cancelled' &&\n                <div className={style.status + ' text_type_main-default ' + style.cancel}>Отменен</div>}\n                <div className={style.ingredients}>\n\n                    {data.ingredients.map((id, index) => (\n                        index < 6 &&\n                        <div className={style.ingredient + ' ' + style['i' + (index + 1).toString()]} key={index}>\n                            <div><img src={findUrl(id)} alt={\"\"}/></div>\n                        </div>\n                    ))}\n\n                    {data.ingredients.length > 6 && <div className={style.ingredient + ' ' + style.i7}>\n                        <div className={'text text_type_main-default '}>+{data.ingredients.length - 5}</div>\n                    </div>}\n                </div>\n                <div className={style.fullname + 'text text_type_digits-default'}>{data.total}&nbsp;<CurrencyIcon\n                    type=\"primary\"/></div>\n            </div>\n        </Link>\n        </div>\n    )\n}\n\nexport default FeedOrderShort;\n","import React from 'react'\n\nimport classNames from 'classnames';\nimport style from './feed-list.module.css';\nimport FeedOrderShort from \"../feed-order-short/feed-order-short\";\nimport {TOrdersState} from \"../../services/reducers/orders\";\n\nconst FeedList = ( {data, view}: {data: TOrdersState, view: string})=> {\n\n    return (\n        <div className={style['feed-list']}>\n            {!view && <div className={classNames(style['feed-list-title'],'mt-10 mb-5 text text_type_main-large ')}>\n                Лента заказов\n            </div>}\n            <div className={style['group']}>\n\n                { data.orders.map( (order) => (\n                    <FeedOrderShort\n                        data={order}\n                        view={view}\n                        key={order.id}\n                    />\n                ))}\n            </div>\n        </div>\n    )\n}\n\nexport default FeedList;\n","import React, { useEffect } from 'react'\nimport {useDispatch, useSelector} from \"../services/hooks\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport style from \"./shared.module.css\";\nimport {logout} from \"../services/auth\";\nimport FeedList from \"../components/feed-list/feed-list\";\nimport {TOrdersState} from \"../services/reducers/orders\";\nimport {fetchOrdersByUser} from \"../services/api\";\nimport {wsClose} from \"../services/actions/websocket\";\n\nfunction ProfileOrdersPage() {\n    const history = useHistory();\n\n    const dispatch = useDispatch();\n    const orders = useSelector<TOrdersState>(state => state.orders);\n\n    useEffect(() => {\n        dispatch(fetchOrdersByUser());\n        return () => { dispatch(wsClose()) }\n    }, [dispatch]);\n\n\n    const logoutUser = () => {\n        dispatch(logout());\n        history.push('/');\n    }\n\n\n    return (\n        <div className={style.main_blocks}>\n            <div className={style.block1}>\n                <div className={'mb-6 text text_type_main-default'}><Link to='/profile/' className={`${style[\"menu-link\"]}`}>\n                    Профиль\n                </Link>\n                </div>\n                <div className={'mb-6 text text_type_main-default'}>\n                    <span>История заказов</span>\n\n                </div>\n                <div className={'mb-6 text text_type_main-default'}><span className={`${style[\"menu-link\"]}`} onClick={() => logoutUser()}>\n                    Выход\n                </span></div>\n                <div className={'mt-10 text text_type_main-small text_color_inactive'} >В этом разделе вы можете <br/>посмотреть свою историю заказов</div>\n            </div>\n            <div className={style.block3}>\n                <FeedList data={orders} view={'status'}/>\n            </div>\n        </div>\n    )\n}\n\nexport default ProfileOrdersPage;\n","import React from 'react';\nimport style from './feed-info.module.css';\nimport {TOrdersState} from \"../../services/reducers/orders\";\n\nconst FeedInfo = ( {data}: {data: TOrdersState}) => {\n\n    return (\n        <div className={style['feed-info']}>\n            <div className={style['main-block'] + ' text text_type_main-medium' }>\n                <div className={style.flexgroup}>\n                    <div className={style.flexdivs}>Готовы:\n                    <section className={ style.container +' text text_type_digits-default'}>\n                        { data.orders.map( (order) => (\n                            order.status === 'done' && <div key={order.id} className={style.done}>\n                                {order.id.toString().padStart(5, '0')}\n                            </div>\n                        ))}\n                    </section>\n                    </div>\n                    <div className={style.flexdivs}>В работе:\n                        <section className={ style.container +' text text_type_digits-default'}>\n                            { data.orders.map( (order) => (\n                                order.status === 'pending' && <div key={order.id}>\n                                    {order.id.toString().padStart(5, '0')}\n                                </div>\n                            ))}\n                        </section>\n                    </div>\n                </div>\n                <div className={style.group + ' text text_type_main-medium'} >\n                    Выполнено за все время:<br/>\n                    <span className={'text text_type_digits-large'}>{data.total.toLocaleString('ru-ru', {minimumFractionDigits: 0})}</span>\n                    Выполнено за сегодня:<br/>\n                    <span className={'text text_type_digits-large'}>{data.todayTotal.toLocaleString('ru-ru', {minimumFractionDigits: 0})}</span><br/>\n                </div>\n\n            </div>\n\n        </div>\n\n    )\n}\n\nexport default FeedInfo;\n","import React, { useEffect } from 'react';\nimport { useDispatch, useSelector } from '../services/hooks';\nimport { wsClose } from '../services/actions/websocket';\nimport { fetchAllOrders } from '../services/api';\nimport style from './shared.module.css';\n\nimport FeedInfo from \"../components/feed-info/feed-info\";\nimport FeedList from \"../components/feed-list/feed-list\";\nimport { TOrdersState } from '../services/reducers/orders';\n\nfunction FeedPage() {\n    const dispatch = useDispatch();\n    const orders = useSelector<TOrdersState>(state => state.orders);\n\n    useEffect(() => {\n        dispatch(fetchAllOrders());\n      return () => { dispatch(wsClose()) }\n    }, [dispatch]);\n    \n    return (\n        <div className={style.main_blocks}>\n            <FeedList data={orders} view={''}/>\n            <FeedInfo data={orders}/>\n        </div>\n    )\n}\n\nexport default FeedPage;\n","import React, { FC } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { getRefreshToken } from \"../services/auth\";\nimport { TProtectedRoute } from \"../services/types/types\"\n\nconst ProtectedRoute: FC<TProtectedRoute> = ({ children, path }) => {\n    const loggedIn = !!getRefreshToken();\n    return (<>\n        { loggedIn ? children\n        : <Redirect\n            to={{\n                pathname: \"/login\",\n                state: { from: path },\n            }}\n        /> }</>);\n  };\n\nexport default ProtectedRoute;\n","import React from 'react'\nimport style from './app-header.module.css'\nimport { FC } from 'react';\n\nimport {Link, useLocation} from 'react-router-dom';\nimport {TMenuItem} from \"../../services/types/types\";\n\nconst MenuItem: FC<TMenuItem> = ({ itemDest, Icon, itemText }) => {\n    const location = useLocation();\n    const { pathname } = location;\n    const splitLocation = pathname.split(\"/\");\n    const splitDestination = itemDest.split(\"/\");\n    const isActive = splitLocation[1] === splitDestination[1];\n    const classes = isActive ? style.active : \"\";\n    return (\n        <div className={ style.menu_item }>\n            <Link to={itemDest}>\n                <Icon type={ isActive ? \"primary\" : \"secondary\"}/>\n                <span className={'text text_type_main-default pl-2 ' + classes} >{itemText}</span>\n            </Link>\n        </div>\n    )\n}\n\nexport default MenuItem;\n","import React from 'react'\nimport {Logo, BurgerIcon, ListIcon, ProfileIcon} from '@ya.praktikum/react-developer-burger-ui-components'\nimport style from './app-header.module.css'\nimport MenuItem from './menu-item';\n\nconst AppHeader = () => {\n    return (\n      <header>\n        <div className={style.container}>\n          <nav>\n              <div className={style.topdiv}>\n                  <MenuItem\n                    itemDest=\"/\" \n                    Icon={BurgerIcon}\n                    itemText=\"Конструктор\"\n                  />\n                  <MenuItem\n                    itemDest=\"/feed\" \n                    Icon={ListIcon}\n                    itemText=\"Лента заказов\"\n                  />\n              </div>\n              <div className={style.topdiv}>\n                    <Logo />\n              </div>\n              <div className={style.topdiv}>\n                <MenuItem\n                    itemDest=\"/profile\" \n                    Icon={ProfileIcon}\n                    itemText=\"Личный кабинет\"\n                  />\n              </div>\n          </nav>\n        </div>\n      </header>    \n    );\n}\n\nexport default AppHeader;\n\n","import style from \"./display-error.module.css\"\nimport classNames from 'classnames';\nimport errorIcon from '../../images/error.png';\nimport {useSelector} from \"../../services/hooks\";\n\n\nconst DisplayError = () => {\n\n    const error = useSelector(store => store.errorInfo.errorMessage);\n    return (\n        <div className={classNames(style['order-details'])}>\n            <h2 className={classNames(style['order-h2'], 'text', 'text_type_main-large')}>\n                Упс...\n            </h2>\n            <div className={classNames('text','text_type_main-default')}>\n                Что-то пошло не так\n            </div>\n            <img src={errorIcon} alt=\"Произошла ошибка\" className={style.error}/>\n            <h3 className={classNames('text','text_type_main-default', ' text_color_inactive')}>\n                {error as string}\n            </h3>\n        </div>\n    );\n};\n\nexport default DisplayError;\n","export default \"data:image/png;base64,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\"","import style from \"./modal-overlay.module.css\";\nimport React from \"react\";\nimport {TModalOverlayProps} from \"../../services/types/types\";\n\nconst ModalOverlay = ( {onClose}: TModalOverlayProps ) => {\n\n  const onModalClose = (e:React.UIEvent<HTMLElement>) => {\n    if (e.target === e.currentTarget) {\n      if(typeof onClose === 'function') onClose();\n    }\n  };\n\n  return (\n    <div\n      className={style.open}\n      onClick={(e) => onModalClose(e)}\n    />\n  );\n};\n\nexport default ModalOverlay;\n","import React, { useEffect } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport classNames from 'classnames';\nimport style from \"./modal.module.css\";\nimport ModalOverlay from \"../modal-overlay/modal-overlay\";\nimport { CloseIcon } from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport {TModalProps} from \"../../services/types/types\";\n\nconst Modal: React.FC<TModalProps> = ({ children, onClose= function() {}, className}) => {\n  useEffect(() => {\n    const handleClose = (e: KeyboardEvent) => {\n      e.code === 'Escape' && onClose();\n    };\n    window.addEventListener(\"keydown\", handleClose);\n    return () => {\n      window.removeEventListener(\"keydown\", handleClose);\n    };\n  }, [onClose]);\n\n  return (\n    ReactDOM.createPortal(\n      <>\n            <div className={classNames(style.modal, className)}>\n              { typeof onClose === 'function' ? <div className={classNames(style['close'], 'mt-10', 'mr-10')}>\n                <CloseIcon type=\"primary\" onClick={onClose} />\n              </div> : ''}\n              {children}\n            </div>\n        <ModalOverlay onClose={onClose}/>\n      </>,\n      document.getElementById(\"react-modals\") as HTMLDivElement\n    )\n  );\n};\n\nexport default Modal;\n","import React from 'react';\nimport style from \"./feed-order-details.module.css\"\nimport classNames from 'classnames';\nimport {useSelector, useDispatch} from \"../../services/hooks\";\nimport {useParams} from \"react-router-dom\";\nimport {getOrderInfo} from '../../services/api';\nimport {CurrencyIcon} from \"@ya.praktikum/react-developer-burger-ui-components\";\nimport {TIngredient} from \"../../services/types/types\";\n\nconst FeedOrderDetails = () => {\n    const {orderId} = useParams<{ orderId?: string }>();\n    const dispatch = useDispatch();\n    const {currentOrder} = useSelector(store => store.serverOrder);\n\n    if (currentOrder.id.toString() !== orderId) {\n        dispatch(getOrderInfo(orderId));\n    }\n    const {allIngredients} = useSelector(state => state.burgerIngredients);\n    const allIngredientsArray = allIngredients as TIngredient[];\n\n    const findUrl = (id: string) => {\n        const i = allIngredientsArray.find(ingredient => ingredient._id === id);\n        if (i) return i.image_mobile; else return '';\n    }\n\n    const ingredientsMap = new Map();\n    ingredientsMap.set('sum', 0);\n\n    allIngredientsArray.map((ingredient) => {\n        ingredientsMap.set(ingredient._id, ingredient);\n        if (currentOrder.ingredients.find(item => item === ingredient._id)) ingredientsMap.set('sum', ingredientsMap.get(\"sum\") + ingredient.price);\n        return ingredientsMap;\n    })\n\n\n    const date: Date = new Date(currentOrder.createdAt);\n\n    return (\n        <div className={classNames(style['feed-order-block'])}>\n            <div className={'text text_type_digits-default'}>#{currentOrder.id.toString().padStart(5, '0')}</div>\n            <div className={style['feed-order-short'] + ' text_type_main-medium'}>\n                <div className={style.fullname}>{currentOrder.fullname}</div>\n                {currentOrder.status === 'done' &&\n                <div className={style.status + ' text_type_main-default ' + style.done}>Выполнен</div>}\n                {currentOrder.status === 'created' &&\n                <div className={style.status + ' text_type_main-default'}>Создан</div>}\n                {currentOrder.status === 'pending' &&\n                <div className={style.status + ' text_type_main-default'}>Готовится</div>}\n                {currentOrder.status === 'cancelled' &&\n                <div className={style.status + ' text_type_main-default ' + style.cancel}>Отменен</div>}\n                <div className={style.ingredients}>\n\n                    {currentOrder.ingredients.map((id, index) => (\n\n                        <div className={style.over + ' text_type_main-default'} key={index}>\n                            <div className={style.ingredient + ' ' + style.i1}>\n                                <div><img src={findUrl(id)} alt={\"\"}/></div>\n                            </div>\n                            <div className={style.middle}>{ingredientsMap.get(id)?.name}</div>\n                            <div\n                                className={style.iprice + ' text_type_main-default'}>{ingredientsMap.get(id)?.price.toLocaleString('ru-ru', {minimumFractionDigits: 0})}&nbsp;\n                                <CurrencyIcon type=\"primary\"/>\n                            </div>\n                        </div>\n                    ))}\n\n                </div>\n                <div className={'text text_type_main-small text_color_inactive'}>\n                    <br/>{date.toLocaleString().slice(0, 17)}</div>\n                <div\n                    className={style.date}>{ingredientsMap.get(\"sum\").toLocaleString('ru-ru', {minimumFractionDigits: 0})}&nbsp;\n                    <CurrencyIcon type=\"primary\"/></div>\n\n            </div>\n        </div>\n    )\n};\n\nexport default FeedOrderDetails;\n","import { LOAD_ORDER_FROM_SERVER_SUCCESS, LOAD_ORDER_FROM_SERVER, SET_ORDER_LOCAL  } from '../constants/server-order';\nimport { TFeedOrder } from \"../types/orders\";\n\nexport type TLoadOrderFromServerAction = {\n    readonly type: typeof LOAD_ORDER_FROM_SERVER;\n}\n\nexport type TLoadOrderFromServerSuccessAction = {\n    readonly type: typeof LOAD_ORDER_FROM_SERVER_SUCCESS;\n    payload: TFeedOrder;\n}\n\nexport type TSetOrderLocalAction = {\n    readonly type: typeof SET_ORDER_LOCAL;\n    payload: TFeedOrder;\n}\n\nexport type TLoadOrderFromServerActions = \n    | TSetOrderLocalAction\n    | TLoadOrderFromServerAction\n    | TLoadOrderFromServerSuccessAction;\n\nexport const loadOrderFromServer = (): TLoadOrderFromServerAction => ({\n        type: LOAD_ORDER_FROM_SERVER\n});    \nexport const loadOrderFromServerSuccess = (order: TFeedOrder): TLoadOrderFromServerSuccessAction => ({\n    type: LOAD_ORDER_FROM_SERVER_SUCCESS,\n    payload: order\n});    \nexport const setOrderLocal = (order: TFeedOrder): TSetOrderLocalAction => ({\n    type: SET_ORDER_LOCAL,\n    payload: order\n});    \n","import style from \"./order-details.module.css\"\nimport classNames from 'classnames';\nimport orderReady from '../../images/tick.png';\nimport {useSelector} from \"../../services/hooks\";\nimport {TOrder} from \"../../services/types/types\";\n\nconst OrderDetails = () => {\n  const order = useSelector(store => store.order.currentOrder) as TOrder;\n  return (\n    <div className={classNames(style['order-details'])}>\n      <h2 className={classNames(style['order-h2'], 'text', 'text_type_digits-large')}>\n        {order.number}\n      </h2>\n      <div className={classNames('text','text_type_main-medium')}>\n        идентификатор заказа\n      </div>\n      <img src={orderReady} alt=\"Заказ принят\" className={style.ready}/>\n      <h3 className={classNames('text','text_type_main-small', 'm-1')}>\n        Ваш заказ начали готовить\n      </h3>\n      <h3 className={classNames('text','text_type_main-default', ' text_color_inactive')}>\n        Дождитесь готовности на орбитальной станции\n      </h3>\n    </div>\n  );\n};\n\nexport default OrderDetails;\n","export default \"data:image/png;base64,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\"","export default __webpack_public_path__ + \"static/media/waiting.1b139aa8.gif\";","import style from \"./display-waiting.module.css\"\nimport classNames from 'classnames';\nimport waitingIcon from '../../images/waiting.gif';\n\nconst DisplayError = () => {\n    return (\n        <div className={classNames(style['order-details'])}>\n            <h2 className={classNames(style['order-h2'], 'text', 'text_type_main-large')}>\n                Секундочку...\n            </h2>\n            <div className={classNames('text','text_type_main-default')}>\n                Подождите, пожалуйста, ждем ответ сервера\n            </div>\n            <br/><img src={waitingIcon} alt=\"Ждем-с\"/>\n            <h3 className={classNames('text','text_type_main-default', ' text_color_inactive')}>\n                <br/>Еще три байтика...\n            </h3>\n        </div>\n    );\n};\n\nexport default DisplayError;\n","import React, { useEffect } from 'react';\nimport { BrowserRouter as Router, Route, Switch, useLocation, useHistory } from \"react-router-dom\";\nimport {useDispatch, useSelector} from \"../../services/hooks\";\n\nimport { MainPage, LoginPage, ForgotPassPage, ProfilePage, RegisterPage, ResetPassPage, ProfileOrdersPage, FeedPage} from '../../pages';\nimport ProtectedRoute from '../protected-route';\nimport AppHeader from '../app-header/app-header';\nimport { getIngredients } from '../../services/api';\nimport { getUser, getRefreshToken } from '../../services/auth';\n\nimport DisplayError from \"../display-error/display-error\";\nimport Modal from '../modal/modal';\nimport IngredientDetails from '../ingredient-details/ingredient-details';\nimport FeedOrderDetails from '../feed-order-details/feed-order-details';\nimport OrderDetails from '../order-details/order-details';\nimport DisplayWaiting from \"../display-waiting/display-waiting\";\nimport style from \"./app.module.css\";\nimport {RESET_ERROR_MESSAGE} from \"../../services/constants/error\";\nimport {ERASE_ORDER} from \"../../services/constants/order\";\nimport {ERASE_INGREDIENTS_ORDER} from \"../../services/constants/constructor\";\nimport {TIngredientsState} from \"../../services/reducers/ingredients\";\n\nfunction App() {\n    const dispatch = useDispatch();\n    const loggedIn = !!getRefreshToken();\n    const errorMessage = useSelector(store => store.errorInfo.errorMessage);\n    const orderCreated = useSelector(store => store.order.orderCreated);\n    const burgerIngredients  = useSelector<TIngredientsState>(store => store.burgerIngredients);\n    const isWaitingIngredients = burgerIngredients.isLoading;\n    const isWaitingOrder = useSelector(store => store.order.isLoading);\n//    const isWaitingOrders = useSelector(store => store.orders.isLoading);\n    const isWaiting = isWaitingIngredients || isWaitingOrder;// || isWaitingOrders ;\n\n    useEffect(() => {\n        dispatch(getIngredients());\n        if(loggedIn){\n            dispatch(getUser());\n        }\n    }, [dispatch, loggedIn]);\n\n    const hideDisplayError = () => {\n        dispatch({type: RESET_ERROR_MESSAGE});\n    };\n\n    const hideOrderInfo = () => {\n        dispatch({type: ERASE_ORDER});\n        dispatch({type: ERASE_INGREDIENTS_ORDER});\n    };\n\n    interface LocationParams {\n        pathname: string;\n        state: {background: boolean};\n        search: string;\n        hash: string;\n        key: string;\n    }\n\n    const ModalSwitch = () => {\n        const location = useLocation() as LocationParams;\n        const state = location.state;\n        const history = useHistory();\n        let background = state && state.background;\n        const handleModalClose = () => {\n            history.goBack();\n        };\n\n        return (\n            <>\n                <AppHeader />\n                <Switch location={background || location}>\n                    <Route path=\"/ingredients/:ingredientId\" >\n                        <div className={'mt-25'}>\n                            <IngredientDetails />\n                        </div>\n                    </Route>\n                    <Route path=\"/profile/orders/:orderId\" >\n                        <div className={'mt-25'}>\n                            <FeedOrderDetails />\n                        </div>\n                    </Route>\n                    <Route path=\"/feed/:orderId\" >\n                        <div className={'mt-25'}>\n                            <FeedOrderDetails />\n                        </div>\n                    </Route>\n                    <Route path=\"/feed\" >\n                        <FeedPage />\n                    </Route>\n                    <Route path=\"/login\" >\n                        <LoginPage />\n                    </Route>\n                    <Route path=\"/register\" >\n                        <RegisterPage />\n                    </Route>\n                    <Route path=\"/forgot-password\" >\n                        <ForgotPassPage />\n                    </Route>\n                    <Route path=\"/reset-password\" >\n                        <ResetPassPage />\n                    </Route>\n                    <ProtectedRoute path=\"/profile/orders\" >\n                        <ProfileOrdersPage />\n                    </ProtectedRoute>\n                    <ProtectedRoute path=\"/profile\" >\n                        <ProfilePage />\n                    </ProtectedRoute>\n                    <Route>\n                        <MainPage />\n                    </Route>\n                </Switch>\n\n                {background && (\n                    <Route\n                        path='/ingredients/:ingredientId'\n                        children={\n                            <Modal onClose={handleModalClose}>\n                                <IngredientDetails />\n                            </Modal>\n                        }\n                    />\n                )}\n                {background && (\n                    <Route\n                        path='/feed/:orderId'\n                        children={\n                            <Modal onClose={handleModalClose}>\n                                <FeedOrderDetails />\n                            </Modal>\n                        }\n                    />\n                )}\n                {background && (\n                    <Route\n                        path='/profile/orders/:orderId'\n                        children={\n                            <Modal onClose={handleModalClose}>\n                                <FeedOrderDetails />\n                            </Modal>\n                        }\n                    />\n                )}\n            </>\n        );\n    };\n\n    return (\n        <>\n            <Router>\n                <ModalSwitch />\n            </Router>\n            { errorMessage && (\n                <Modal onClose={hideDisplayError} className={style['error-modal']}>\n                    <DisplayError />\n                </Modal>\n            )}\n            { orderCreated && (\n                <Modal onClose={hideOrderInfo} className={style['order-modal']}>\n                    <OrderDetails />\n                </Modal>\n            )}\n            { isWaiting && (\n                <Modal className={style['error-modal']}>\n                    <DisplayWaiting />\n                </Modal>\n            )}\n        </>\n    );\n}\n\nexport default App;\n","export type TFeedOrder = {\n    id: number;\n    _id?: string;\n    createdAt: string;\n    fullname: string;\n    status: STATUS;\n    ingredients: TIngredientIds;\n    total?: number\n};\n\nexport type TIngredientIds = ReadonlyArray<string>;\n\nexport enum STATUS {\n    DONE = 'done',\n    CREATED = 'created',\n    CANCELLED = 'cancelled',\n    PENDING = 'pending'\n};\n\nexport type IServerOrder = {\n    createdAt: string,\n    updatedAt: string,\n    number: number,\n    _id: string,\n    ingredients: TIngredientIds\n    status: STATUS,\n    name: string\n}\n\nexport type IServerOrderReply = {\n    orders: ReadonlyArray<IServerOrder>,\n    total: number,\n    totalToday: number\n};\n\nexport type TOrders = ReadonlyArray<TFeedOrder>;\n","import type { TOrderActions } from '../actions/order';\n\nimport {\n    ERASE_ORDER,    \n    MAKE_ORDER_REQUEST ,\n    MAKE_ORDER_SUCCESS,\n    MAKE_ORDER_ERROR,\n} from '../constants/order';\n\nimport { TOrder } from '../types/types'\n\ntype TOrderState = {\n    orderCreated: boolean,\n    currentOrder: TOrder,\n    isLoading: boolean\n  } \n\nexport const initialState: TOrderState = {\n    orderCreated: false,\n    currentOrder:{\n        number: 0,\n        success: true,\n        name: \"\",\n        ingredients: [],\n        price: 0\n      },\n    isLoading: false\n};\n\nexport const orderReducer = (state = initialState, action: TOrderActions) => {\n    switch (action.type) {\n        case MAKE_ORDER_REQUEST:\n            return {\n                ...state,\n                isLoading: true\n            }\n        case MAKE_ORDER_ERROR:\n            return {\n                ...state,\n                isLoading: false\n            }\n        case MAKE_ORDER_SUCCESS:\n            return {\n                ...state,\n                orderCreated: true,\n                currentOrder: action.order,\n                isLoading: false\n            }\n        case ERASE_ORDER:\n            return {\n                ...initialState\n            }\n        default: return state;\n    }\n}\n\n\n","import { REMOVE_ORDER_INGREDIENT, SET_ORDER_INGREDIENT, UPDATE_INGREDIENTS_ORDER, ERASE_INGREDIENTS_ORDER } from '../constants/constructor';\nimport {TBurgerConstructorItem} from '../types/types'\nimport { TConstructorActions } from '../actions/constructor'\n\nexport type TConstructorState = {\n    lastIndex: number,\n    constructorBun: TBurgerConstructorItem | undefined,\n    constructorIngredients: Array<TBurgerConstructorItem>\n}\n\nexport const initialState: TConstructorState = {\n    lastIndex: 0,\n    constructorBun: undefined,\n    constructorIngredients: [],\n};\n\nexport const constructorReducer = (state = initialState, action: TConstructorActions) => {\n    switch (action.type) {\n        case SET_ORDER_INGREDIENT:\n            let newState = undefined;\n            if( action.ingredient.type === \"bun\") {\n                newState = {\n                    ...state,\n                    constructorBun: {ingredient: action.ingredient, index: 0, id: 0}\n                }\n            } else {\n                let tmpIndex = state.lastIndex + 1;\n                let newIngredient: TBurgerConstructorItem = {ingredient: action.ingredient, index: tmpIndex, id: state.constructorIngredients.length};\n                newIngredient.index = tmpIndex;\n                newState = {\n                    ...state,\n                    lastIndex: tmpIndex,\n                    constructorIngredients: [\n                        ...state.constructorIngredients,\n                        newIngredient\n                    ]\n                }\n            }\n            return newState;\n        case REMOVE_ORDER_INGREDIENT:\n            const newIngredients = [...state.constructorIngredients];\n            let idx = newIngredients.indexOf(action.item);\n            newIngredients.splice(idx, 1);            \n            return {\n                ...state,\n                constructorIngredients: newIngredients\n            };\n        case UPDATE_INGREDIENTS_ORDER:\n            let temp = [...state.constructorIngredients];\n            [temp[action.dragIndex], temp[action.hoverIndex]] = [ temp[action.hoverIndex], temp[action.dragIndex]];\n            return {\n                ...state,\n                constructorIngredients: [...temp]\n            };\n        case ERASE_INGREDIENTS_ORDER:\n            return {\n                ...initialState\n            };\n        default: return state;\n    }\n}\n\n\n","import type { TErrorActions } from '../actions/error';\n\nimport { \n    SET_ERROR_MESSAGE,\n    RESET_ERROR_MESSAGE\n} from '../constants/error';\n\ntype TErrorState = {\n    errorMessage: string\n  } \n\nexport const initialState: TErrorState = {\n    errorMessage: ''\n};\n\nexport const errorReducer = (state = initialState, action: TErrorActions) => {\n    switch (action.type) {\n        case SET_ERROR_MESSAGE:\n            return {\n                ...state,\n                errorMessage: action.errorMessage\n            }\n        case RESET_ERROR_MESSAGE:\n            return {\n                ...state,\n                errorMessage: ''\n            }\n        default: return state;\n    }\n}\n\n\n","import type { TIngredientsActions } from '../actions/ingredients';\nimport { TIngredient } from '../types/types';\n\nimport {\n    LOAD_INGREDIENTS_SUCCESS,\n    LOAD_INGREDIENTS_REQUEST, LOAD_INGREDIENTS_ERROR,\n} from '../constants/ingredients';\n\nexport type TIngredientsState = {\n    allIngredients: Array<TIngredient>,\n    isLoading: boolean\n}\n\nexport const initialState: TIngredientsState = {\n    allIngredients: [],\n    isLoading: false\n};\n\nexport const burgerIngredientsReducer = (state = initialState, action: TIngredientsActions) => {\n    switch (action.type) {\n        case LOAD_INGREDIENTS_REQUEST:\n            return {\n                ...state,\n                isLoading: true\n            }\n         case LOAD_INGREDIENTS_SUCCESS:\n             return {\n                 ...state,\n                 allIngredients: action.ingredients,\n                 isLoading: false\n             }\n        case LOAD_INGREDIENTS_ERROR:\n            return {\n                ...state,\n                allIngredients: [],\n                isLoading: false\n            }\n        default: return state;\n    }\n}\n\n\n","export const SET_CURRENT_INGREDIENT: 'SET_CURRENT_INGREDIENT' = 'SET_CURRENT_INGREDIENT';\nexport const RESET_CURRENT_INGREDIENT: 'RESET_CURRENT_INGREDIENT' = 'RESET_CURRENT_INGREDIENT';\n","import type { TIngredientActions } from '../actions/ingredient';\nimport { TIngredient } from '../types/types';\n\nimport {\n    SET_CURRENT_INGREDIENT,\n    RESET_CURRENT_INGREDIENT\n} from '../constants/ingredient';\n\ntype TIngredientState = {\n    selectedIngredient: TIngredient | undefined\n  } \n\nexport const initialState: TIngredientState = {\n    selectedIngredient: undefined\n};\n\nexport const burgerIngredientReducer = (state = initialState, action: TIngredientActions) => {\n    switch (action.type) {\n        case SET_CURRENT_INGREDIENT:\n            return {\n                ...state,\n                selectedIngredient: {\n                    ...action.ingredient\n                }\n            }\n        case RESET_CURRENT_INGREDIENT:\n            return {\n                ...state,\n                selectedIngredient: undefined\n            }\n        default: return state;\n    }\n}\n\n\n","import type { TAuthActions } from '../actions/auth';\nimport { TUser } from '../types/types';\n\nimport {\n    LOGIN_SUCCESS,\n    LOGOUT_SUCCESS,\n    RESET_PASS_SUCCESS,\n    REGISTER_SUCCESS,\n    FORGOT_PASS_SUCCESS, CLEAR_FORGOT_PASS_SUCCESS, CLEAR_RESET_PASS_SUCCESS,\n    REFRESH_TOKEN_REQUEST,\n    REFRESH_TOKEN_SUCCESS,\n    UPDATE_PROFILE_SUCCESS,\n    PROFILE_SUCCESS\n} from '../constants/auth';\n\nexport type TAuthState = {\n    user: TUser,\n    accessToken: string,\n    refreshToken: string,\n    updatePasswordSuccess: boolean,\n    isLogged: boolean,\n    resetSuccess: boolean,\n    forgotSuccess: boolean,\n    isTokenRefreshed: boolean\n}\n\nexport const initialState: TAuthState = {\n    user: {\n        name: \"\",\n        email: \"\"\n    },\n    accessToken: \"\",\n    refreshToken: \"\",\n    updatePasswordSuccess: false,\n    isLogged: false,\n    resetSuccess: false,\n    forgotSuccess: false,\n    isTokenRefreshed: true\n}\n\nexport const authReducer = (state = initialState, action: TAuthActions) => {\n    switch (action.type){\n        case LOGIN_SUCCESS:\n            return {\n                ...state,\n                user: {\n                    ...state.user,\n                    name: action.data.user.name,\n                    email: action.data.user.email,\n                },\n                accessToken: action.data.accessToken,\n                refreshToken: action.data.refreshToken,\n                isLogged: true\n            };\n        case PROFILE_SUCCESS:\n            return {\n                ...state,\n                user: {\n                    name: action.data.user.name,\n                    email: action.data.user.email\n                },\n                isLogged: true\n            };\n        case LOGOUT_SUCCESS:\n            return {\n                ...initialState,\n                isLogged: false\n            };\n        case RESET_PASS_SUCCESS:\n            return {\n                ...state,\n                resetSuccess: true\n            };\n        case FORGOT_PASS_SUCCESS:\n            return {\n                ...state,\n                forgotSuccess: true\n            };\n        case CLEAR_FORGOT_PASS_SUCCESS:\n            return {\n                ...state,\n                forgotSuccess: false\n            };\n        case CLEAR_RESET_PASS_SUCCESS: \n            return {\n                ...state,\n                resetSuccess: false\n            };\n        case REFRESH_TOKEN_REQUEST: \n            return {\n                ...state,\n                isTokenRefreshed: false\n            };\n        case REFRESH_TOKEN_SUCCESS:\n            return {\n                ...state,\n                isTokenRefreshed: true\n            };\n        case REGISTER_SUCCESS:\n            return {\n                ...state,\n                user: {\n                    ...state.user,\n                    name: action.data.user.name,\n                    email: action.data.user.email,\n                },\n                accessToken: action.data.accessToken,\n                refreshToken: action.data.refreshToken,\n                isLogged: true\n            };\n        case UPDATE_PROFILE_SUCCESS:\n            return {\n                ...state,\n                user: {\n                    name: action.data.name,\n                    email: action.data.email\n                }\n            };\n\n        default:\n            return state;\n    }\n}\n","// rootReducer.ts\n\nimport {\n    WS_CONNECTION_SUCCESS,\n    WS_CONNECTION_ERROR,\n    WS_CONNECTION_CLOSED,\n    WS_GET_MESSAGE\n  } from '../constants/websocket';\n  import type { TApplicationActions } from '../types';\n  \n  type TWSState = {\n    wsConnected: boolean;\n    messages: string[];\n  \n    error?: Event;\n  }\n  \n  export const initialState: TWSState = {\n    wsConnected: false,\n    messages: [],\n    error: undefined\n  };\n  \n  // Создадим редьюсер для WebSocket\n  export const wsReducer = (state = initialState, action: TApplicationActions) => {\n    switch (action.type) {\n          // Опишем обработку экшена с типом WS_CONNECTION_SUCCESS\n          // Установим флаг wsConnected в состояние true\n      case WS_CONNECTION_SUCCESS:\n        return {\n          ...state,\n          error: undefined,\n          wsConnected: true\n        };\n  \n          // Опишем обработку экшена с типом WS_CONNECTION_ERROR\n          // Установим флаг wsConnected в состояние false и передадим ошибку из action.payload\n      case WS_CONNECTION_ERROR:\n        return {\n          ...state,\n          error: action.payload,\n          wsConnected: false\n        };\n  \n          // Опишем обработку экшена с типом WS_CONNECTION_CLOSED, когда соединение закрывается\n          // Установим флаг wsConnected в состояние false\n      case WS_CONNECTION_CLOSED:\n        return {\n          ...state,\n          error: undefined,\n          wsConnected: false\n        };\n  \n          // Опишем обработку экшена с типом WS_GET_MESSAGE\n          // Обработка происходит, когда с сервера возвращаются данные\n          // В messages передадим данные, которые пришли с сервера\n      case WS_GET_MESSAGE:\n        return {\n          ...state,\n          error: undefined,\n          messages: [...state.messages, action.payload]\n        };\n      default:\n        return state;\n    }\n  };","import { TOrdersActions } from '../actions/orders';\nimport { TIngredient } from '../types/types';\n\nimport { IServerOrder, TFeedOrder } from '../types/orders';\n\nimport {\n    FETCH_ORDERS ,\n    CLEAR_ORDERS,\n    NEW_ORDERS_ARRIVE,\n    LOAD_INGREDIENTS,\n} from '../constants/orders';\n\nexport type TOrdersState = {\n    isLoading: boolean,\n    total: number,\n    todayTotal: number,\n    orders: TFeedOrder[],\n    ingredientPrices: Map<string, number>\n}\n\nexport const initialState: TOrdersState = {\n    isLoading: false,\n    total: 0,\n    todayTotal: 0,\n    orders: [],\n    ingredientPrices: new Map()\n};\n\nexport const ordersReducer = (state:TOrdersState = initialState, action: TOrdersActions) => {\n    switch (action.type) {\n        case LOAD_INGREDIENTS:\n            let ingredientPrices: Map<string, number> = new Map();\n            let ingredients: ReadonlyArray<TIngredient> = action.ingredients;\n            ingredients.forEach((ingredient: TIngredient) => {\n                ingredientPrices.set(ingredient._id, ingredient.price);\n\n            })\n            return { ...state,\n                ingredientPrices: ingredientPrices\n            }\n       case FETCH_ORDERS:\n            return {\n                ...state,\n                isLoading: true\n            };\n        case NEW_ORDERS_ARRIVE:\n            const data = action.payload as {\n                orders: IServerOrder[],\n                total: number,\n                totalToday: number\n            };\n            const newOrders: TFeedOrder[] = [];\n            data.orders && data.orders.slice(0,20).forEach((order: IServerOrder) => {\n//                const hasOrder = state.orders.some(stateOrder => {\n//                    return stateOrder._id === order._id\n//                });\n\n//                if (hasOrder){\n                //     let stateOrder = state.orders.find(stOrder => stOrder.id === order.number)\n                //     if (stateOrder && stateOrder.status !== order.status){\n                //         stateOrder.status = order.status;\n                //         newOrders.push(stateOrder);\n                //     }\n                // } else {\n                    let ingredientsIds: ReadonlyArray<string> = order.ingredients;\n                    let ingredientPrices: Map<string,number> = state.ingredientPrices;\n                    let total: number = 0;\n                    ingredientsIds.forEach((id: string) =>{\n                        let ingredientPrice: number | undefined = ingredientPrices.get(id);\n                        total += ( typeof ingredientPrice == 'undefined') ? 0 : ingredientPrice;\n                    })\n                    newOrders.push({\n                        id: order.number,\n                        _id: order._id,\n                        fullname: order.name,\n                        status: order.status,\n                        createdAt: order.createdAt,\n                        ingredients: ingredientsIds,\n                        total: total\n                    });\n                // }\n\n            });\n            return {...state, orders: newOrders, total: data.total, todayTotal: data.totalToday, isLoading: false};\n        case CLEAR_ORDERS:\n            return {...state, orders: [], total: 0, todayTotal: 0};\n        default:\n            return state;    \n    }\n}\n","import type { TLoadOrderFromServerActions } from '../actions/server-order';\nimport type { TOrdersActions } from '../actions/orders';\n\nimport { LOAD_INGREDIENTS } from '../constants/orders';\nimport {\n    LOAD_ORDER_FROM_SERVER_SUCCESS,    \n//    LOAD_ORDER_FROM_SERVER,\n    SET_ORDER_LOCAL\n} from '../constants/server-order';\n\nimport { TFeedOrder, STATUS } from \"../types/orders\";\nimport { TIngredient } from '../types/types';\n\nexport type TServerOrderState = {\n    currentOrder: TFeedOrder,\n    ingredientPrices: Map<string, number>,\n    isLoaded: boolean\n  } \n\nexport const initialState: TServerOrderState = {\n    currentOrder: {\n        id: 0,\n        _id: '',\n        createdAt: '',\n        fullname: '',\n        status: STATUS.PENDING,\n        ingredients:[],\n        total: 0\n    },\n    ingredientPrices: new Map(),\n    isLoaded: false\n};\n\nexport const serverOrderReducer = (state = initialState, action: TLoadOrderFromServerActions | TOrdersActions) => {\n    switch (action.type) {\n        case LOAD_INGREDIENTS:\n            let ingredientPrices: Map<string, number> = new Map();\n            let ingredients: ReadonlyArray<TIngredient> = action.ingredients;\n            ingredients.forEach((ingredient: TIngredient) => {\n                ingredientPrices.set(ingredient._id, ingredient.price);\n\n            })\n            return { \n                ...state,\n                ingredientPrices: ingredientPrices\n            }\n        case SET_ORDER_LOCAL:\n            return {\n                ...state,\n                currentOrder: action.payload,\n                isLoaded: true\n            }\n        case LOAD_ORDER_FROM_SERVER_SUCCESS:\n            let ingredientIds: ReadonlyArray<string> = action.payload.ingredients;\n            let total: number = 0;\n            ingredientIds.forEach((id: string) =>{\n                let ingredientPrice: number | undefined = state.ingredientPrices.get(id);\n                total += ( typeof ingredientPrice == 'undefined') ? 0 : ingredientPrice;\n            })\n            let newOrder: TFeedOrder = {\n                id: action.payload.id,\n                _id: action.payload._id,\n                createdAt: action.payload.createdAt,\n                fullname: action.payload.fullname,\n                ingredients: ingredientIds,\n                status: action.payload.status,\n                total: total\n            }\n            return {\n                ...state,\n                currentOrder: newOrder,\n                isLoaded: true\n            }\n        default: return state;\n    }\n}\n\n\n","import { combineReducers } from \"redux\";\nimport { orderReducer } from \"./order\";\nimport { constructorReducer } from \"./constructor\";\nimport { errorReducer } from \"./error\";\nimport { burgerIngredientsReducer } from \"./ingredients\";\nimport { burgerIngredientReducer } from \"./ingredient\";\nimport { authReducer } from \"./auth\";\nimport { wsReducer } from \"./websocket\";\nimport { ordersReducer } from \"./orders\";\nimport { serverOrderReducer } from \"./server-order\";\n\nexport const rootReducer = combineReducers({\n    burgerIngredients: burgerIngredientsReducer,\n    burgerIngredient: burgerIngredientReducer,\n    orderConstructor: constructorReducer,\n    order: orderReducer,\n    errorInfo: errorReducer,\n    auth: authReducer,\n    ws: wsReducer,\n    orders: ordersReducer,\n    serverOrder: serverOrderReducer\n});\n","import { applyMiddleware, createStore } from 'redux';\nimport thunk from 'redux-thunk';\nimport { rootReducer } from './reducers';\nimport { socketMiddleware } from './middleware/websocket';\nimport { compose } from 'redux';\nimport { TWsActions } from './types';\n\nimport { FETCH_ORDERS, NEW_ORDERS_ARRIVE } from './constants/orders';\nimport { WS_CONNECTION_ERROR, WS_CONNECTION_START, WS_CLOSE, WS_CONNECTION_CLOSED, WS_SEND_MESSAGE } from './constants/websocket';\n\n\ndeclare global {\n    interface Window {\n        __REDUX_DEVTOOLS_EXTENSION_COMPOSE__?: typeof compose;\n    }\n}\nconst wsActions: TWsActions = {\n    onInit: WS_CONNECTION_START,\n    onOpen: FETCH_ORDERS,\n    onMessage: NEW_ORDERS_ARRIVE,\n    onError: WS_CONNECTION_ERROR,\n    onClose: WS_CLOSE,\n    onClosed: WS_CONNECTION_CLOSED,\n    onSend: WS_SEND_MESSAGE\n  }\n    \nconst webSocketMiddleware = socketMiddleware(wsActions);\n\nexport const composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst enhancer = composeEnhancers(applyMiddleware(thunk,webSocketMiddleware));\n\nexport const store = createStore(rootReducer, enhancer);\n","import type { Middleware, MiddlewareAPI } from 'redux';\nimport type { AppDispatch, RootState } from '../types';\nimport type { TWebsocketActions } from '../actions/websocket';\nimport { TWsActions, } from '../types';\n\nexport const socketMiddleware = (wsActions: TWsActions): Middleware => {\n    return ((store: MiddlewareAPI<AppDispatch, RootState>) => {\n        let socket: WebSocket | null = null;\n    return next => (action: TWebsocketActions) => {\n      const { dispatch } = store;\n      const { onInit, onOpen, onMessage, onError, onClose, onClosed, onSend } = wsActions;\n\n      if (action.type === onInit) {\n        socket = new WebSocket(action.url);\n        if(socket){\n\n          socket.onopen = () => {\n            dispatch({type: onOpen});\n          };\n\n          socket.onerror = event => {\n            dispatch({ type: onError, payload: event});\n          };\n    \n          socket.onmessage = event => {\n            const { data } = event;\n            const parsedData = JSON.parse(data);\n            dispatch({type: onMessage, payload: parsedData});\n          };\n\n          socket.onclose = event => {\n            dispatch({ type: onClosed, payload: event });\n          };\n        }\n      }else if (action.type === onSend) {\n          if (socket) {\n            const message = action.payload;\n            socket.send(JSON.stringify(message));\n          }\n      } else if (action.type === onClose ) {\n          if (socket){\n              socket.close();\n            }\n      }\n      next(action);\n    };\n    }) as Middleware;\n}; \n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/app/app';\n\nimport { Provider } from 'react-redux';\n\nimport { store } from './services/store';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n    <Provider store={store}>\n      <React.StrictMode>\n        <BrowserRouter basename='/ya-react-burger/'>\n          <App />\n        </BrowserRouter>\n      </React.StrictMode>\n    </Provider>,\n  document.getElementById('root')\n);\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"feed-info\":\"feed-info_feed-info__2YZnZ\",\"main-block\":\"feed-info_main-block__3nBwk\",\"bun\":\"feed-info_bun__3g_99\",\"group\":\"feed-info_group__2nZCQ\",\"sum\":\"feed-info_sum__30YwW\",\"px40\":\"feed-info_px40__wRwun\",\"container\":\"feed-info_container__12VS4\",\"done\":\"feed-info_done__1bP7-\",\"flexgroup\":\"feed-info_flexgroup__2jhzc\",\"flexdivs\":\"feed-info_flexdivs__1wfev\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"app-header_container__2ER_-\",\"menu_item\":\"app-header_menu_item__2bIm7\",\"active\":\"app-header_active__1gFZ7\",\"inactive\":\"app-header_inactive__K6gDZ\",\"topdiv\":\"app-header_topdiv__1SSkY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"burger-ingredient\":\"burger-ingredient_burger-ingredient__10PPu\",\"burger-ingredient-currency\":\"burger-ingredient_burger-ingredient-currency__GHM-r\",\"burger-ingredient-price\":\"burger-ingredient_burger-ingredient-price__3_Dpo\",\"burger-ingredient-title\":\"burger-ingredient_burger-ingredient-title__2dM8l\",\"price\":\"burger-ingredient_price__dO1up\",\"draggable\":\"burger-ingredient_draggable__2rJCY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"burger-constructor\":\"burger-constructor_burger-constructor__2Wv3Z\",\"main-block\":\"burger-constructor_main-block__x1ovL\",\"bun\":\"burger-constructor_bun__12nX_\",\"group\":\"burger-constructor_group__30Pwy\",\"sum\":\"burger-constructor_sum__487I2\",\"px40\":\"burger-constructor_px40__1xcb7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ingredient-block\":\"ingredient-details_ingredient-block__m3unB\",\"ingredient-image\":\"ingredient-details_ingredient-image__2pqPe\",\"details\":\"ingredient-details_details__uP6-A\",\"ingredient-details\":\"ingredient-details_ingredient-details__zttXH\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"burger-ingredients\":\"burger-ingredients_burger-ingredients__3ja-s\",\"burger-ingredients-title\":\"burger-ingredients_burger-ingredients-title__26si6\",\"burger-ingredients-selector\":\"burger-ingredients_burger-ingredients-selector__3rd_k\",\"burger-ingredients-group-container\":\"burger-ingredients_burger-ingredients-group-container__2i2Cr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"feed-list\":\"feed-list_feed-list__E81PI\",\"feed-list-title\":\"feed-list_feed-list-title__2Y-9C\",\"feed-list-selector\":\"feed-list_feed-list-selector__3u1yY\",\"feed-list-group-container\":\"feed-list_feed-list-group-container__2ibXv\",\"group\":\"feed-list_group__JjNvi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"display-error_error__2BVj9\",\"order-h2\":\"display-error_order-h2__-XGTq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ready\":\"order-details_ready__1k1pE\",\"order-h2\":\"order-details_order-h2__2T-UX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"main_blocks\":\"app_main_blocks__187ah\",\"ingredient-modal\":\"app_ingredient-modal__TYXhb\",\"order-modal\":\"app_order-modal__fJNw-\",\"error-modal\":\"app_error-modal__rK3Yp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form_block\":\"shared_form_block__1GOFD\",\"main_blocks\":\"shared_main_blocks__1_AGV\",\"ingredient-modal\":\"shared_ingredient-modal__FTMNR\",\"order-modal\":\"shared_order-modal__1h4fF\",\"error-modal\":\"shared_error-modal__3Z_IX\",\"link\":\"shared_link__cklLk\",\"block1\":\"shared_block1__3Axcn\",\"block2\":\"shared_block2__1svmS\",\"block3\":\"shared_block3__2s8Ax\",\"main-block\":\"shared_main-block__1mb6n\",\"menu-link\":\"shared_menu-link__3_1ua\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"draggable\":\"burger-constructor-item_draggable__2sZmV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"modal\":\"modal_modal__1DF1f\",\"close\":\"modal_close__1Iez6\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"display-waiting_error__OJI6_\",\"order-h2\":\"display-waiting_order-h2__3SlAy\"};"],"sourceRoot":""}